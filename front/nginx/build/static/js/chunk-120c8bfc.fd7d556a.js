(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-120c8bfc"],{"0973":function(e,t,a){},1653:function(e,t,a){"use strict";a("0973")},"20a2":function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-card",[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Your Tasks",name:"self"}},[a("el-row",{staticClass:"search",attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline_Self}},[a("el-form-item",{attrs:{label:"Query Mode"}},[a("el-select",{staticClass:"marginRight",attrs:{clearable:"",placeholder:"Please select query mode",prop:"searchType"},on:{clear:function(t){return e.getTaskList_Self()},change:function(t){return e.pageReflash_Self()}},model:{value:e.formInline_Self.searchType,callback:function(t){e.$set(e.formInline_Self,"searchType",t)},expression:"formInline_Self.searchType"}},[a("el-option",{attrs:{label:"Method",value:"生成方法"}}),a("el-option",{attrs:{label:"Task Name",value:"任务名称"}}),a("el-option",{attrs:{label:"Task id",value:"任务id"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"生成方法"==e.formInline_Self.searchType,expression:"formInline_Self.searchType == '生成方法'"}],attrs:{label:"Method"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"Please select method",prop:"searchType"},on:{change:function(t){e.pageReflash_Self(),e.SearchTask_Self()}},model:{value:e.generate_func_self,callback:function(t){e.generate_func_self=t},expression:"generate_func_self"}},e._l(e.generate_func_list,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"生成方法"!=e.formInline_Self.searchType&&""!=e.formInline_Self.searchType,expression:"formInline_Self.searchType != '生成方法' && formInline_Self.searchType != ''"}],attrs:{label:"Query Content"}},[a("el-input",{attrs:{placeholder:"Please enter the query content",clearable:""},on:{clear:e.handleSelectClear},model:{value:e.formInline_Self.searchTaskInfo,callback:function(t){e.$set(e.formInline_Self,"searchTaskInfo",t)},expression:"formInline_Self.searchTaskInfo"}},[a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.isFuzzySearch(0),e.pageReflash_Self(),e.SearchTask_Self()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"}),e._v("Precise")]),"任务id"!=e.formInline_Self.searchType?a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.isFuzzySearch(1),e.pageReflash_Self(),e.SearchTask_Self()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"}),e._v("Fuzzy")]):e._e()],1)],1)],1)],1)],1),a("v-table",{attrs:{taskList:this.taskList_Self,is_root:"0",show_point_preview:1},on:{getList:e.handleGetList,delete:e.removeTaskById,MethodDetail:e.MethodDetail,methodDialogClose:e.methodDialogClose,showEditDialog:e.showEditDialog,editDialogClosed:e.editDialogClosed,originalfileDownload:e.originalfileDownloadTemp,generatefileDownload:e.generatefileDownloadTemp,point_cloud_preview:e.point_cloud_preview}}),a("el-pagination",{attrs:{"current-page":e.queryInfo_Self.page,"page-size":10,layout:"prev, pager, next",total:e.total_Self},on:{"size-change":e.handleSizeChange_Self,"current-change":e.handleCurrentChange_Self,"update:currentPage":function(t){return e.$set(e.queryInfo_Self,"page",t)},"update:current-page":function(t){return e.$set(e.queryInfo_Self,"page",t)}}})],1),"超级管理员"===this.userRight?a("el-tab-pane",{attrs:{label:"All user tasks",name:"all"}},[a("el-row",{staticClass:"search",attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline_All}},[a("el-form-item",{attrs:{label:"Query Mode"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"Please select query mode",prop:"searchType",clearable:""},on:{clear:function(t){e.getTaskList_All(),e.clearSecondSelect_All()},change:function(t){return e.pageReflash_All()}},model:{value:e.formInline_All.searchType,callback:function(t){e.$set(e.formInline_All,"searchType",t)},expression:"formInline_All.searchType"}},[a("el-option",{attrs:{label:"Method",value:"生成方法"}}),a("el-option",{attrs:{label:"Task Name",value:"任务名称"}}),a("el-option",{attrs:{label:"Task id",value:"任务id"}}),a("el-option",{attrs:{label:"User id",value:"用户id"}}),a("el-option",{attrs:{label:"User Name",value:"用户名"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"生成方法"==e.formInline_All.searchType,expression:"formInline_All.searchType == '生成方法'"}],attrs:{label:"Method"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"Please select method",prop:"searchType"},on:{change:function(t){e.pageReflash_All(),e.getTaskList_All()}},model:{value:e.generate_func_all,callback:function(t){e.generate_func_all=t},expression:"generate_func_all"}},e._l(e.generate_func_list,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"生成方法"!=e.formInline_All.searchType&&""!=e.formInline_All.searchType,expression:"formInline_All.searchType != '生成方法' && formInline_All.searchType != ''"}],attrs:{label:"Query Content"}},[a("el-input",{attrs:{placeholder:"Please enter the query content",clearable:""},on:{clear:e.getTaskList_All},model:{value:e.formInline_All.searchTaskInfo,callback:function(t){e.$set(e.formInline_All,"searchTaskInfo",t)},expression:"formInline_All.searchTaskInfo"}},[a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.isFuzzySearch(0),e.getTaskList_All(),e.pageReflash_All()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"}),e._v("Precise")]),"任务id"!=e.formInline_All.searchType&&"用户id"!=e.formInline_All.searchType&&"用户名"!=e.formInline_All.searchType?a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.isFuzzySearch(1),e.getTaskList_All(),e.pageReflash_All()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"}),e._v("Fuzzy")]):e._e()],1)],1)],1)],1)],1),a("v-table",{attrs:{taskList:this.taskList_All,is_root:"1",show_point_preview:1},on:{getList:e.handleGetList,delete:e.removeTaskById,MethodDetail:e.MethodDetail,methodDialogClose:e.methodDialogClose,showEditDialog:e.showEditDialog,editDialogClosed:e.editDialogClosed,originalfileDownload:e.originalfileDownloadTemp,generatefileDownload:e.generatefileDownloadTemp,point_cloud_preview:e.point_cloud_preview}}),a("el-pagination",{attrs:{"current-page":e.queryInfo_All.page,"page-size":10,layout:"prev, pager, next",total:e.total_All},on:{"size-change":e.handleSizeChange_All,"current-change":e.handleCurrentChange_All,"update:currentPage":function(t){return e.$set(e.queryInfo_All,"page",t)},"update:current-page":function(t){return e.$set(e.queryInfo_All,"page",t)}}})],1):e._e()],1)],1),a("el-dialog",{attrs:{title:"编辑任务信息",visible:e.editDialogSelfVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogSelfVisible=t},closed:e.editDialogClosed}},[a("el-form",{ref:"editFormRef",staticStyle:{width:"90%"},attrs:{model:e.editForm_Self,rules:e.rulesList,"label-width":"120px"}},[a("el-form-item",{attrs:{label:"任务id"}},[a("el-input",{attrs:{disabled:""},model:{value:e.editForm_Self.id,callback:function(t){e.$set(e.editForm_Self,"id",t)},expression:"editForm_Self.id"}})],1),a("el-form-item",{attrs:{label:"任务名",prop:"name"}},[a("el-input",{model:{value:e.editForm_Self.name,callback:function(t){e.$set(e.editForm_Self,"name",t)},expression:"editForm_Self.name"}})],1),a("el-form-item",{attrs:{label:"紧急等级"}},[a("el-slider",{attrs:{min:1,max:5,step:1,marks:e.mark_group.marks1_5},model:{value:e.editForm_Self.urgency_level,callback:function(t){e.$set(e.editForm_Self,"urgency_level",t)},expression:"editForm_Self.urgency_level"}})],1),"FGSM-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{attrs:{label:"扰动幅度",prop:"epsilon"}},[a("div",{staticClass:"block",staticStyle:{float:"left","margin-right":"5px",width:"100%"}},[e._l(e.editForm_Self.epsilon,(function(t,i){return a("el-form-item",{key:t.key,attrs:{label:"幅度"+(i+1),"label-width":"50px"}},[a("el-slider",{attrs:{"show-input":"",min:.001,max:2,step:.001,marks:e.mark_group.marks0001_2},model:{value:t.value,callback:function(a){e.$set(t,"value",a)},expression:"domain.value"}}),a("el-button",{staticStyle:{"margin-left":"20px"},on:{click:function(a){return a.preventDefault(),e.removeDomain(t)}}},[e._v("删除")])],1)})),a("el-form-item",[a("el-button",{on:{click:function(t){return e.addDomain()}}},[e._v("新增幅度")]),a("el-button",{on:{click:function(t){return e.resetForm("form")}}},[e._v("重置")])],1)],2)]):e._e(),"I-FGSM(BIM)-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{attrs:{label:"单步扰动幅度"}},[a("el-slider",{attrs:{"show-input":"",min:.001,max:1,step:.001,marks:e.mark_group.marks0001_1},model:{value:e.editForm_Self.ite_epsilon,callback:function(t){e.$set(e.editForm_Self,"ite_epsilon",t)},expression:"editForm_Self.ite_epsilon"}})],1):e._e(),"JSMA-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{attrs:{label:"单步扰动幅度"}},[a("el-slider",{attrs:{"show-input":"",min:.001,max:2,step:.001,marks:e.mark_group.marks0001_2},model:{value:e.editForm_Self.ite_epsilon,callback:function(t){e.$set(e.editForm_Self,"ite_epsilon",t)},expression:"editForm_Self.ite_epsilon"}})],1):e._e(),"JSMA-激光雷达"===this.editForm_Self.augmentation_method_name||"I-FGSM(BIM)-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{attrs:{label:"扰动次数上限"}},["I-FGSM(BIM)-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-slider",{attrs:{"show-input":"",min:1,max:1e3,step:1,marks:e.mark_group.marks1_1000},model:{value:e.editForm_Self.ite_limit,callback:function(t){e.$set(e.editForm_Self,"ite_limit",t)},expression:"editForm_Self.ite_limit"}}):e._e(),"JSMA-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-slider",{attrs:{"show-input":"",min:1,max:15e3,step:1,marks:e.mark_group.marks1_15000},model:{value:e.editForm_Self.ite_limit,callback:function(t){e.$set(e.editForm_Self,"ite_limit",t)},expression:"editForm_Self.ite_limit"}}):e._e()],1):e._e(),a("el-form-item",{attrs:{label:"是否旋转"}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.editForm_Self.whether_to_rotate,callback:function(t){e.$set(e.editForm_Self,"whether_to_rotate",t)},expression:"editForm_Self.whether_to_rotate"}})],1),"FGSM-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{staticStyle:{"margin-right":"5px"},attrs:{label:"单文件生成数量及参数",prop:"generate_per_file_and_params"}},[a("el-slider",{attrs:{"show-input":"",min:1,max:100,step:1,marks:e.mark_group.marks1_100},model:{value:e.editForm_Self.generate_per_file_and_params,callback:function(t){e.$set(e.editForm_Self,"generate_per_file_and_params",t)},expression:"editForm_Self.generate_per_file_and_params"}})],1):e._e(),"JSMA-激光雷达"===this.editForm_Self.augmentation_method_name||"I-FGSM(BIM)-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{staticStyle:{"margin-right":"5px",width:"500px"},attrs:{label:"单文件生成数量"}},[a("el-slider",{attrs:{"show-input":"",min:1,max:100,step:1,marks:e.mark_group.marks1_100},model:{value:e.editForm_Self.generate_per_file,callback:function(t){e.$set(e.editForm_Self,"generate_per_file",t)},expression:"editForm_Self.generate_per_file"}})],1):e._e(),a("el-form-item",{attrs:{label:"严格模式"}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.editForm_Self.strict_mode,callback:function(t){e.$set(e.editForm_Self,"strict_mode",t)},expression:"editForm_Self.strict_mode"}})],1),"JSMA-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{attrs:{label:"边界约束",prop:"boundary_constraint"}},[a("el-slider",{attrs:{"show-input":"",min:1,max:2,step:.001,marks:e.mark_group.marks1_2},model:{value:e.editForm_Self.boundary_constraint,callback:function(t){e.$set(e.editForm_Self,"boundary_constraint",t)},expression:"editForm_Self.boundary_constraint"}})],1):e._e(),a("el-form-item",{attrs:{label:"重新上传文件",prop:"file"}},[a("input",{attrs:{type:"file",id:"filetemp",prop:"editForm_Self.file"}}),a("br")])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogSelfVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editTaskInfo}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"Task Details",visible:e.methodDialogSelfVisible,width:"50%","body-style":"background-color: rgba(255, 255, 255, 0.6);","destroy-on-close":""},on:{"update:visible":function(t){e.methodDialogSelfVisible=t},close:e.methodDialogClose}},[a("div",{staticClass:"user-info-list"},[e._v("\n            Task id:\n            "),a("span",[e._v(e._s(e.methodDetail.id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            Task Name:\n            "),a("span",[e._v(e._s(e.methodDetail.name))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            Urgency level:\n            "),a("span",[e._v(e._s(e.methodDetail.urgency_level))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            Params:\n            "),a("span",[e._v(e._s(e.methodDetail.params?e.methodDetail.params:"Nothing"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            Task Status:\n            "),a("span",[e._v(e._s(e.methodDetail.task_status))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            Upload the original file:\n            "),a("span",[e._v(e._s(e.methodDetail.task_have_origin_file?"Yes":"No"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            Generated the augmentation file:\n            "),a("span",[e._v(e._s(e.methodDetail.task_have_generate_file?"Yes":"No"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            Generated Data:\n            "),a("span",[e._v(e._s(e.methodDetail.generate_data_number?e.methodDetail.generate_data_number:"Nothing"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            Update time:\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.update_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            Start time:\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.start_datetime?e.methodDetail.start_datetime:"未开始")))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            Completion time:\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.fin_datetime?e.methodDetail.start_datetime:"未结束")))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            ID of the task creator:\n            "),a("span",[e._v(e._s(e.methodDetail.master_id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            Username of the task creator:\n            "),a("span",[e._v(e._s(e.methodDetail.master_username))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            Nickname of the task creator:\n            "),a("span",[e._v(e._s(e.methodDetail.master_nickname))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            User group of task Creator:\n            "),a("span",[e._v(e._s(e.methodDetail.master_user_group))])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:e.taskException}},[e._v("Mark task exception")]),a("el-button",{on:{click:function(t){e.methodDialogSelfVisible=!1}}},[e._v("Close")])],1)]),a("el-dialog",{attrs:{title:"Point cloud Preview",visible:e.previewDialogVisible,width:"1300px",height:"630px","before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.previewDialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"this.loading"}],staticStyle:{height:"600px"},attrs:{"element-loading-text":"Loading","element-loading-spinner":"el-icon-loading"}},[e.loading?e._e():a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration right"},[e._v("Select the point cloud for comparison")]),a("el-cascader",{staticStyle:{width:"800px"},attrs:{options:e.preview_options,props:{expandTrigger:"hover"}},on:{change:e.previewHandleChange},model:{value:e.preview_value,callback:function(t){e.preview_value=t},expression:"preview_value"}}),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.changeAxios_xz}},[e._v("Exchange XZ ")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.changeAxios_xy}},[e._v("Exchange XY ")]),a("el-button",{staticStyle:{"margin-left":"10px"},attrs:{type:"primary"},on:{click:e.changeAxios_yz}},[e._v("Exchange YZ ")]),a("el-carousel",{attrs:{trigger:"click",height:"570px"}},e._l(2,(function(t){return a("el-carousel-item",{key:t},[1==t?a("div",{staticClass:"juzhog",attrs:{id:"preview"}}):e._e(),2==t?a("div",[a("div",{staticClass:"view1",attrs:{id:"preview_original"}}),a("div",{staticClass:"view1",attrs:{id:"preview_generate"}})]):e._e()])})),1)],1)])])],1)},n=[],r=(a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("386d"),a("6b54"),a("768b")),s=(a("ac6a"),a("7f7f"),a("96cf"),a("3b8d")),l=a("bd86"),o=a("7618"),h=(a("28a5"),a("a481"),a("3b2b"),a("313e")),c=(a("e39c"),a("4328"),a("19de")),u=a.n(c),f=a("c4e3"),_=a.n(f),m=a("0c97");function d(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=g(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,s=!0,l=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return s=e.done,e},e:function(e){l=!0,r=e},f:function(){try{s||null==a.return||a.return()}finally{if(l)throw r}}}}function g(e,t){if(e){if("string"===typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var v={data:function(){var e,t=function(e,t,a){var i=new RegExp("^[1-9][0-9]*$").test(t);"0"===t||i?a():a(new Error("请输入非负整数"))},a=function(e,t,a){t<1?a(new Error("只能为大于等于1整数")):a()},i=function(e,t,a){var i=/^[0-9]*$/;i.test(t)?a():a(new Error("只能为非负数字"))},n=function(e,t,a){t<0?a(new Error("只能为非负数")):a()},r=function(e,t,a){t=t.replace("[",""),t=t.replace("]",""),t=t.replace("，",",");var i=t.split(",");for(var n in i)"number"===!Object(o["a"])(parseFloat(i[n]))&&!isNaN(parseFloat(i[n]))&&parseFloat(i[n])<0?a(new Error("请填写合理的非负数字列表")):a()};return e={mark_group:{marks1_2:{1:"1",2:{style:{width:"10px"},label:"2"}},marks0001_2:{.001:"0.001",2:{style:{width:"10px"},label:"2"}},marks0001_1:{.001:"0.001",1:{style:{width:"10px"},label:"1"}},marks1_100:{1:"1",100:{style:{width:"30px"},label:"100"}},marks1_1000:{1:"1",1e3:{style:{width:"40px"},label:"1000"}},marks1_15000:{1:"1",15e3:{style:{width:"50px"},label:"15000"}},marks0_5:{0:"0",5:{style:{width:"10px"},label:"5"}},marks1_5:{1:"1",5:{style:{width:"10px"},label:"5"}}},full_loading_flag:!1,generate_func_self:"",generate_func_all:"",generate_func_list:[],queryInfo_Self:{page:1},taskList_Self:[],total_Self:0,formInline_Self:{searchType:"",searchTaskInfo:""},editDialogSelfVisible:!1,editForm_Self:{task_id:0,master:this.$store.getters.userId,name:"",params:"",file:{},augmentation_method_name:""},editFormSelfRules:{name:[{required:!0,message:"请输入任务名",trigger:"blur"}]},queryInfo_All:{page:1},taskList_All:[],total_All:0,formInline_All:{searchType:"",searchTaskInfo:""},editDialogAllVisible:!1,editForm_All:{},editFormAllRules:{name:[{required:!0,message:"请输入任务名",trigger:"blur"}]},FuzzySearch:1,activeName:"self"},Object(l["a"])(e,"taskList_All",[]),Object(l["a"])(e,"userRight",""),Object(l["a"])(e,"methodDialogSelfVisible",!1),Object(l["a"])(e,"methodDetail",[]),Object(l["a"])(e,"mohu",!0),Object(l["a"])(e,"fileName",""),Object(l["a"])(e,"preview_value",[]),Object(l["a"])(e,"preview_options",[]),Object(l["a"])(e,"previewDialogVisible",!1),Object(l["a"])(e,"loading",!0),Object(l["a"])(e,"original_files_zip",null),Object(l["a"])(e,"generate_files_zip",null),Object(l["a"])(e,"originalPointCloudData",[]),Object(l["a"])(e,"generatePointCloudData",[]),Object(l["a"])(e,"maxAxisValue",-1e4),Object(l["a"])(e,"minAxisValue",1e4),Object(l["a"])(e,"original_is_Zip",!1),Object(l["a"])(e,"generate_is_Zip",!1),Object(l["a"])(e,"original_fileContent",""),Object(l["a"])(e,"generate_fileContent",""),Object(l["a"])(e,"original_blob",null),Object(l["a"])(e,"generate_blob",null),Object(l["a"])(e,"test_text","djshdkjdhkadh"),Object(l["a"])(e,"change_axios_buttom",!1),Object(l["a"])(e,"editForm",{}),Object(l["a"])(e,"rules1",{augmentation_method:[{required:!0,message:"不能为空",trigger:"change"}],epsilon:[{required:!0,message:"不能为空",trigger:"blur"},{validator:r,trigger:"blur"}],generate_per_file_and_params:[{required:!0,message:"不能为空",trigger:"blur"},{validator:a,trigger:"blur"},{validator:i,trigger:"blur"}],urgency_level:[{required:!0,message:"不能为空",trigger:"blur"},{validator:t,trigger:"blur"}]}),Object(l["a"])(e,"rules2",{augmentation_method:[{required:!0,message:"不能为空",trigger:"change"}],ite_epsilon:[{required:!0,message:"不能为空",trigger:"blur"},{validator:n,trigger:"blur"}],ite_limit:[{required:!0,message:"不能为空",trigger:"blur"},{validator:i,trigger:"blur"}],generate_per_file:[{required:!0,message:"不能为空",trigger:"blur"},{validator:a,trigger:"blur"},{validator:i,trigger:"blur"}],urgency_level:[{required:!0,message:"不能为空",trigger:"blur"},{validator:t,trigger:"blur"}]}),Object(l["a"])(e,"rules3",{augmentation_method:[{required:!0,message:"不能为空",trigger:"change"}],ite_epsilon:[{required:!0,message:"不能为空",trigger:"blur"},{validator:n,trigger:"blur"}],ite_limit:[{required:!0,message:"不能为空",trigger:"blur"},{validator:i,trigger:"blur"}],generate_per_file:[{required:!0,message:"不能为空",trigger:"blur"},{validator:a,trigger:"blur"},{validator:i,trigger:"blur"}],boundary_constraint:[{required:!0,message:"不能为空",trigger:"blur"},{validator:n,trigger:"blur"}],urgency_level:[{required:!0,message:"不能为空",trigger:"blur"},{validator:t,trigger:"blur"}]}),Object(l["a"])(e,"picture","https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"),e},components:{vTable:m["a"]},computed:{rulesList:function(){return"FGSM"===this.editForm_Self.augmentation_method_name?this.rules1:"JSMA"===this.editForm_Self.augmentation_method_name?this.rules3:this.rules2}},created:function(){this.userRight=window.sessionStorage.getItem("user_group_name"),this.getTaskList_Self()},mounted:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.commit("setUserId",sessionStorage.getItem("userId")),e.next=3,this.$http.get("/augmentation_method/?augmentation_type=1");case 3:t=e.sent,console.log("data:",t),this.generate_func_list=t.data.data,console.log("this.generate_func_list:",this.generate_func_list);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{handleClick:function(e,t){"1"===e.index&&this.getTaskList_All()},handleSelectClear:function(){this.getTaskList_Self(),this.generate_func_self=""},handleGetList:function(e){e?this.getTaskList_All():this.getTaskList_Self()},getTaskList_Self:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/task/augmentation_type/search/?augmentation_type=1&page="+this.queryInfo_Self.page);case 2:if(t=e.sent,a=t.data,2e4===a.code){e.next=12;break}if(40400!==a.code){e.next=11;break}return console.log("data:",a),this.taskList_Self=[],this.totalPageNum=0,this.total_Self=0,e.abrupt("return",this.$message.error("本用户未添加任务！"));case 11:return e.abrupt("return",this.$message.error("获取本用户任务列表失败！"));case 12:this.taskList_Self=a.data.details,this.totalPageNum=a.data.pages,console.log("this.taskList_Self:",this.taskList_Self),this.total_Self=10*this.totalPageNum;case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),SearchTask_Self:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==this.formInline_Self.searchType){e.next=2;break}return e.abrupt("return",this.$message.error("请输入查询方式！"));case 2:if(t=0,a="","生成方法"!==this.formInline_Self.searchType){e.next=10;break}a="/task/augmentation_method/search/?augmentation_method="+this.generate_func_self+"&page="+this.queryInfo_Self.page,console.log("this.generate_func_self:",this.generate_func_self),console.log("this.queryInfo_Self.page:",this.queryInfo_Self.page),e.next=13;break;case 10:if(""!==this.formInline_Self.searchTaskInfo){e.next=12;break}return e.abrupt("return",this.$message.error("请输入搜索内容！"));case 12:"任务名称"===this.formInline_Self.searchType?(console.log("this.queryInfo_Self.page:",this.queryInfo_Self.page),a="/task/name/search/?augmentation_type=1&task_name="+this.formInline_Self.searchTaskInfo+"&search_type="+this.FuzzySearch+"&page="+this.queryInfo_Self.page):a="/task/id/search/?augmentation_type=1&task_id="+this.formInline_Self.searchTaskInfo+"&page="+this.queryInfo_Self.page;case 13:return e.next=15,this.$http.get(a);case 15:if(i=e.sent,n=i.data,console.log("data:",n),2e4===n.code){e.next=22;break}return this.taskList_Self=[],this.total_Self=0,e.abrupt("return",this.$message.error("未搜索到该任务！"));case 22:"任务id"===this.formInline_Self.searchType?(t=1,this.taskList_Self=[],this.taskList_Self.push(n.data)):this.taskList_Self=n.data.details,console.log("data:",n),this.totalPageNum=n.data.pages,this.total_Self=10*this.totalPageNum,this.total_Self=10===this.total_Self?this.taskList_Self.length:this.total_Self,t&&(this.total_Self=this.taskList_Self.length);case 28:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTaskList_All:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n,r,s,l,o,h,c,u,f,_,m;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("this.generate_func_all:",this.generate_func_all),console.log("this.formInline_All.searchType:",this.formInline_All.searchType),"生成方法"===this.formInline_All.searchType||""!==this.formInline_All.searchType&&""!==this.formInline_All.searchTaskInfo){e.next=23;break}return e.next=5,this.$http.get("/task/augmentation_type/admin/search/?augmentation_type=1&page="+this.queryInfo_All.page);case 5:if(t=e.sent,a=t.data,40400!=a.code){e.next=13;break}return console.log("data:",a),this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("所有用户都未添加任务！"));case 13:if(2e4===a.code){e.next=18;break}return this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("获取任务列表失败[所有用户]！错误原因："+a.msg));case 18:this.taskList_All=a.data.details,this.totalPageNum=a.data.pages,this.total_All=10*this.totalPageNum,e.next=119;break;case 23:if("用户id"!==this.formInline_All.searchType){e.next=39;break}return console.log("this.formInline_All.searchTaskInfo:",this.formInline_All.searchTaskInfo),e.next=27,this.$http.get("/task/augmentation_type/admin/search/?augmentation_type=1&page="+this.queryInfo_All.page+"&user_id="+this.formInline_All.searchTaskInfo);case 27:if(i=e.sent,n=i.data,2e4===n.code){e.next=34;break}return this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("获取任务列表失败[用户id]！错误原因："+n.msg));case 34:this.taskList_All=n.data.details,this.totalPageNum=n.data.pages,this.total_All=10*this.totalPageNum,e.next=119;break;case 39:if("任务名称"!==this.formInline_All.searchType){e.next=55;break}return e.next=42,this.$http.get("/task/name/admin/search/?augmentation_type=1&page="+this.queryInfo_All.page+"&task_name="+this.formInline_All.searchTaskInfo+"&search_type="+this.FuzzySearch);case 42:if(r=e.sent,s=r.data,console.log("data:",s),2e4===s.code){e.next=50;break}return this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("获取查询列表失败[任务名称]！错误原因："+s.msg));case 50:this.taskList_All=s.data.details,this.totalPageNum=s.data.pages,this.total_All=10*this.totalPageNum,e.next=119;break;case 55:if("任务id"!==this.formInline_All.searchType){e.next=73;break}return e.next=58,this.$http.get("/task/id/admin/search/?augmentation_type=1&page="+this.queryInfo_All.page+"&task_id="+this.formInline_All.searchTaskInfo);case 58:if(l=e.sent,o=l.data,2e4===o.code){e.next=65;break}return this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("获取查询列表失败[任务id]！错误原因："+o.msg));case 65:console.log("data:",o),console.log("this.taskList_All:",this.taskList_All),this.taskList_Self=[],this.taskList_Self.push(o.data.details),this.totalPageNum=o.data.pages,this.total_All=this.taskList_All.length,e.next=119;break;case 73:if("生成类型id"!==this.formInline_All.searchType){e.next=88;break}return e.next=76,this.$http.get("/task/augmentation_type/admin/search/?page="+this.queryInfo_All.page+"&augmentation_type="+this.formInline_All.searchTaskInfo);case 76:if(h=e.sent,c=h.data,2e4===c.code){e.next=83;break}return this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("获取查询列表失败[生成类型]！错误原因："+c.msg));case 83:this.taskList_All=c.data.details,this.totalPageNum=c.data.pages,this.total_All=10*this.totalPageNum,e.next=119;break;case 88:if("生成方法"!=this.formInline_All.searchType){e.next=106;break}return console.log("here,this.generate_func_all22222:",this.generate_func_all),e.next=92,this.$http.get("/task/augmentation_method/admin/search/?page="+this.queryInfo_All.page+"&augmentation_method="+this.generate_func_all);case 92:if(u=e.sent,f=u.data,console.log("data:",f),2e4===f.code){e.next=101;break}return console.log("data:",f),this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("获取查询列表失败[生成方法]！错误原因："+f.msg));case 101:this.taskList_All=f.data.details,this.totalPageNum=f.data.pages,this.total_All=10*this.totalPageNum,e.next=119;break;case 106:if("用户名"!==this.formInline_All.searchType){e.next=119;break}return console.log("username:",this.formInline_All.searchTaskInfo),e.next=110,this.$http.get("/task/master/admin/search/?augmentation_type=1&page="+this.queryInfo_All.page+"&username="+this.formInline_All.searchTaskInfo+"&search_type="+this.FuzzySearch);case 110:if(_=e.sent,m=_.data,console.log("data:",m),2e4===m.code){e.next=115;break}return e.abrupt("return",this.$message.error("获取任务列表失败[用户名]！错误原因："+m.msg));case 115:this.taskList_All=m.data.details,this.totalPageNum=m.data.pages,console.log("this.taskList_All:",this.taskList_All),this.total_All=10*this.totalPageNum;case 119:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),generate_change:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,i,n,r,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("本用户"!=t){e.next=20;break}return a="/task/augmentation_method/search/?augmentation_method="+this.generate_func_self,console.log("this.generate_func_self:",this.generate_func_self),e.next=5,this.$http.get(a);case 5:if(i=e.sent,n=i.data,2e4===n.code){e.next=11;break}return this.taskList_Self=[],this.total_Self=0,e.abrupt("return",this.$message.error("未搜索到该任务！"));case 11:console.log("data:",n),this.taskList_Self=n.data.details,this.totalPageNum=n.data.pages,this.total_Self=10*this.totalPageNum,this.total_Self=10===this.total_Self?this.taskList_Self.length:this.total_Self,console.log("this.total_Self:",this.total_Self),console.log("this.totalPageNum:",this.totalPageNum),e.next=33;break;case 20:return r="/task/augmentation_method/admin/search/?augmentation_method="+this.generate_func_all,e.next=23,this.$http.get(r);case 23:if(s=e.sent,l=s.data,2e4===l.code){e.next=29;break}return this.taskList_All=[],this.total_All=0,e.abrupt("return",this.$message.error("未搜索到该任务！"));case 29:this.taskList_All=l.data.details,this.totalPageNum=l.data.pages,this.total_All=10*this.totalPageNum,this.total_All=this.total_All?this.taskList_All.length:0;case 33:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),isFuzzySearch:function(e){this.FuzzySearch=e,console.log("this.FuzzySearch:",this.FuzzySearch)},clearSecondSelect_All:function(){this.generate_func_all="",this.formInline_All.searchTaskInfo=""},clearSecondSelect_Self:function(){this.generate_func_self="",this.formInline_Self.searchTaskInfo=""},handleSizeChange_Self:function(e){this.queryInfo_Self.pagesize=e,console.log("newSize-this.formInline_Self.searchType:",this.formInline_Self.searchType),console.log("newSize-this.queryInfo_Self.page:",this.queryInfo_Self.page),this.getTaskList_Self()},handleCurrentChange_Self:function(e){this.queryInfo_Self.page=e,console.log("newPage-this.formInline_Self.searchType:",this.formInline_Self.searchType),console.log("newPage-this.queryInfo_Self.page:",this.queryInfo_Self.page),""===this.formInline_Self.searchTaskInfo&&""===this.generate_func_self?this.getTaskList_Self():this.SearchTask_Self()},handleSizeChange_All:function(e){this.queryInfo_All.pagesize=e,console.log("newSize-this.formInline_All.searchType:",this.formInline_All.searchType),console.log("newSize-this.queryInfo_All.page:",this.queryInfo_All.page),this.getTaskList_All()},handleCurrentChange_All:function(e){this.queryInfo_All.page=e,console.log("newPage-this.formInline_All.searchType:",this.formInline_All.searchType),console.log("newPage-this.queryInfo_All.page:",this.queryInfo_All.page),this.getTaskList_All()},pageReflash_All:function(){this.queryInfo_All.page=1},pageReflash_Self:function(){this.queryInfo_Self.page=1},originalfileDownloadTemp:function(e){var t=e["task_id"],a=e["flag"];this.originalfileDownload(t,a)},originalfileDownload:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var i,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=this.full_loading_flag?"":this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),this.original_fileContent="",e.next=4,this.$http.get("/task/file/?task_id="+t+"&file_type=0&format=json",{responseType:"blob",headers:{"Content-Type":"application/json; application/octet-stream"}});case 4:return n=e.sent,console.log("data:",n),r=n.headers["content-disposition"].replaceAll("/","\\").split("\\"),this.fileName=r[r.length-1],this.fileName=this.fileName.slice(0,this.fileName.length-1),s=this.fileName.lastIndexOf("."),this.original_is_Zip=!1,-1!==s&&".zip"===this.fileName.substr(s)?this.original_is_Zip=!0:this.original_blob=n.data,this.full_loading_flag||i.close(),a||u()(n.data,this.fileName),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),generatefileDownloadTemp:function(e){var t=e["task_id"],a=e["flag"];this.generatefileDownload(t,a)},generatefileDownload:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){var i,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=this.full_loading_flag?"":this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e.next=3,this.$http.get("/task/file/?task_id="+t+"&file_type=1&format=json",{responseType:"blob",headers:{"Content-Type":"application/json; application/octet-stream"}});case 3:return n=e.sent,r=n.headers["content-disposition"].replaceAll("/","\\").split("\\"),this.fileName=r[r.length-1],this.fileName=this.fileName.slice(0,this.fileName.length-1),s=this.fileName.lastIndexOf("."),this.generate_is_Zip=!1,-1!==s&&".zip"===this.fileName.substr(s)?this.generate_is_Zip=!0:this.generate_blob=n.data,this.full_loading_flag||i.close(),a||u()(n.data,this.fileName),e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),removeTaskById:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,i,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(a=e.sent,"confirm"===a){e.next=5;break}return e.abrupt("return",this.$message.info("已取消删除"));case 5:return e.next=7,this.$http.delete("/task/?task_id="+t);case 7:if(i=e.sent,n=i.data,2e4===n.code){e.next=11;break}return e.abrupt("return",this.$message.error("删除任务失败！错误原因："+n.msg));case 11:this.$message.success("删除任务成功！"),"self"===this.activeName?(this.queryInfo_Self.page=1,""===this.formInline_Self.searchTaskInfo&&""===this.generate_func_self?this.getTaskList_Self():this.SearchTask_Self()):(this.queryInfo_All.page=1,""===this.formInline_All.searchTaskInfo&&""===this.generate_func_all?this.getTaskList_All():this.SearchTask_All());case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),resetForm:function(e){console.log("formName:",e),this.editForm_Self.epsilon=[{value:0}]},removeDomain:function(e){if(1==this.editForm_Self.epsilon.length)this.$message.error("扰动幅度不可为空!");else{var t=this.editForm_Self.epsilon.indexOf(e);-1!==t&&this.editForm_Self.epsilon.splice(t,1)}},addDomain:function(){this.editForm_Self.epsilon.push({value:0,key:Date.now()})},showEditDialog:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,i,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a in this.editForm_Self=JSON.parse(JSON.stringify(t)),console.log("this.editForm_Self:",this.editForm_Self),this.editForm_Self.params=JSON.parse(t.params),this.editForm_Self.params)this.$set(this.editForm_Self,a,this.editForm_Self.params[a]);if(this.editForm_Self.urgency_level=this.editForm_Self.urgency_level,"FGSM-激光雷达"===this.editForm_Self.augmentation_method_name?this.editForm_Self.generate_per_file_and_params=parseInt(this.editForm_Self.generate_per_file_and_params):"I-FGSM(BIM)-激光雷达"!==this.editForm_Self.augmentation_method_name&&"JSMA-激光雷达"!==this.editForm_Self.augmentation_method_name||(this.editForm_Self.generate_per_file=parseInt(this.editForm_Self.generate_per_file),this.editForm_Self.ite_epsilon=parseFloat(this.editForm_Self.ite_epsilon),this.editForm_Self.boundary_constraint=parseFloat(this.editForm_Self.boundary_constraint),this.editForm_Self.ite_limit=parseInt(this.editForm_Self.ite_limit)),this.editForm_Self.whether_to_rotate="1"===this.editForm_Self.whether_to_rotate,this.editForm_Self.strict_mode="1"===this.editForm_Self.strict_mode,"FGSM-激光雷达"===this.editForm_Self.augmentation_method_name){for(a in console.log("this.editForm_Self.epsilon:",this.editForm_Self.epsilon),i=this.editForm_Self.epsilon.replace("[","").replace("]","").split(","),console.log("temp_array:",i),n=[],i)r={},r.value=parseFloat(i[a]),n.push(r);console.log("temp:",n),this.editForm_Self.epsilon=n}this.editDialogSelfVisible=!0;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),editDialogClosed:function(){this.editForm_Self={task_id:0,master:this.$store.getters.userId,name:"",params:"",file:{},augmentation_method_name:""}},editTaskInfo:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n,s,l,o,h,c,u,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.editForm_Self.master=this.$store.state.userId,t=new FormData,t.append("task_id",this.editForm_Self.id),t.append("name",this.editForm_Self.name),t.append("master",this.editForm_Self.master),t.append("urgency_level",this.editForm_Self.urgency_level+""),a={},"FGSM-激光雷达"===this.editForm_Self.augmentation_method_name){for(n in console.log("here"),i=[],this.editForm_Self.epsilon)console.log('this.editForm_Self.epsilon[x]["value"]:',this.editForm_Self.epsilon[n]["value"]),i.push(this.editForm_Self.epsilon[n]["value"]);a.epsilon="["+i.toString()+"]",console.log("temp_params.epsilon:",a.epsilon),a={epsilon:a.epsilon,whether_to_rotate:this.editForm_Self.whether_to_rotate,generate_per_file_and_params:this.editForm_Self.generate_per_file_and_params+"",strict_mode:this.editForm_Selfstrict_mode}}else"I-FGSM(BIM)-激光雷达"===this.editForm_Self.augmentation_method_name?a={ite_epsilon:this.editForm_Self.ite_epsilon+"",ite_limit:this.editForm_Self.ite_limit+"",whether_to_rotate:this.editForm_Self.whether_to_rotate,generate_per_file:this.editForm_Self.generate_per_file+"",strict_mode:this.editForm_Self.strict_mode}:"JSMA-激光雷达"===this.editForm_Self.augmentation_method_name&&(a={ite_epsilon:this.editForm_Self.ite_epsilon+"",ite_limit:this.editForm_Self.ite_limit+"",whether_to_rotate:this.editForm_Self.whether_to_rotate,generate_per_file:this.editForm_Self.generate_per_file+"",boundary_constraint:this.editForm_Self.boundary_constraint+"",strict_mode:this.editForm_Self.strict_mode});a.whether_to_rotate=this.editForm_Self.whether_to_rotate?"1":"0",a.strict_mode=this.editForm_Self.strict_mode?"1":"0",a=JSON.stringify(a),t.append("params",a),this.editForm_Self.file=document.getElementById("filetemp").files[0],this.editForm_Self.file&&t.append("file",this.editForm_Self.file),s=d(t.entries());try{for(s.s();!(l=s.n()).done;)o=Object(r["a"])(l.value,2),h=o[0],c=o[1],console.log(h,c)}catch(_){s.e(_)}finally{s.f()}return e.next=18,this.$http({url:"/task/",data:t,method:"put"});case 18:if(u=e.sent,f=u.data,2e4===f.code){e.next=22;break}return e.abrupt("return",this.$message.error("修改任务失败！错误原因："+f.msg));case 22:this.$message.success("修改任务成功！"),this.editDialogSelfVisible=!1,this.$refs.editFormRef.resetFields(),this.editForm_Self.augmentation_type="",this.editForm_Self.augmentation_method="",this.editForm_Self.file={},this.getTaskList_Self(),this.getTaskList_All();case 30:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getdata:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,function(){a.fileContent=this.result};case 2:return e.abrupt("return",t.onload=e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),taskException:function(){var e=this;this.$confirm("是否确定将该任务标记成异常状态？").then(function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(a){var i,n,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return i=new FormData,i.append("task_id",e.methodDetail.id),t.next=4,e.$http({url:"/task/exception/",data:i,method:"post"});case 4:if(n=t.sent,r=n.data,2e4===r.code){t.next=8;break}return t.abrupt("return",e.$message.error("添加生成任务失败！错误原因："+r.msg));case 8:e.$message.success("标记成异常成功！"),"self"===e.activeName?""===e.formInline_Self.searchTaskInfo&&""===e.generate_func_self?e.getTaskList_Self():e.SearchTask_Self():""===e.formInline_All.searchTaskInfo&&""===e.generate_func_all?e.getTaskList_All():e.SearchTask_All();case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){}))},MethodDetail:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("this.methodDetail:",this.methodDetail),this.methodDialogSelfVisible=!0,e.next=4,this.$http.get("/task/?task_id="+t);case 4:if(a=e.sent,i=a.data,console.log("data:",i),2e4===i.code){e.next=9;break}return e.abrupt("return",this.$message.error("获取本用户任务详情失败！错误原因："+i.msg));case 9:this.methodDetail=i.data;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),methodDialogClose:function(){console.log("this.methodDetail:",this.methodDetail),this.methodDetail=[]},point_cloud_preview:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){var a,i,n,r,s,l,o,h,c,u,f,m,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.full_loading_flag=!0,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),console.log("loading:",a),console.log("this.$loading.lock:",this.$loading.lock),i=[],e.next=7,this.originalfileDownload(t,1);case 7:if(n=e.sent,!this.original_is_Zip){e.next=18;break}return r=new window.File([n.data],this.fileName,{type:"zip"}),s=new _.a,l=[],this.original_files_zip=r,o=this,e.next=16,s.loadAsync(this.original_files_zip).then((function(e){for(var t in s.files){var a={};l.push(t),a["value"]=t,a["label"]=t,a["children"]=[],i.push(a)}o.original_files_zip=r}));case 16:e.next=23;break;case 18:h={},h["value"]=this.fileName,h["label"]=this.fileName,h["children"]=[],i.push(h);case 23:return e.next=25,this.generatefileDownload(t,1);case 25:if(c=e.sent,!this.generate_is_Zip){e.next=36;break}return u=new window.File([c.data],this.fileName,{type:"zip"}),f=new _.a,m=[],d=this.original_is_Zip,e.next=33,f.loadAsync(u).then((function(e){for(var t in f.files)m.push(t);if(d){for(var t in l)for(var a in m)if(-1!=m[a].search(l[t])){var n={};n["value"]=m[a],n["label"]=m[a],i[t].children.push(n)}}else for(var a in m){n={};n["value"]=m[a],n["label"]=m[a],i[0].children.push(n)}}));case 33:this.generate_files_zip=u,e.next=40;break;case 36:h={},h["value"]=this.fileName,h["label"]=this.fileName,i[0].children.push(h);case 40:a.close(),this.full_loading_flag=!1,this.previewDialogVisible=!0,this.$message.success("已获取文件列表，请选择需预览的文件！"),this.preview_options=i,this.loading=!1;case 46:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),make_format_data:function(e,t,a){var i=this,n=null,r=e.lastIndexOf(".");if(-1===r)return n=t.replaceAll("\r\n","\n").split("\n"),void n.forEach((function(e){var t=e.split(" ");for(var n in t)parseFloat(t[n])>i.maxAxisValue&&(i.maxAxisValue=parseFloat(t[n])),parseFloat(t[n])<i.minAxisValue&&(i.minAxisValue=parseFloat(t[n]));3!==t.length&&""!==t[3]||a?3!==t.length&&""!==t[3]||!a||(3===t.length?t.push("50"):""===t[3]&&(t[3]="50")):3===t.length?t.push("0"):""===t[3]&&(t[3]="0"),a?i.generatePointCloudData.push(t):i.originalPointCloudData.push(t)}));var s=e.substr(r);if(".ply"===s){n=t.replaceAll("\r\n","\n").split("\n");var l=-1;for(var o in n)"end_header"===n[o]&&(l=o);n=n.splice(parseInt(l)+1,n.length-parseInt(l)-1),n.forEach((function(e){var t=e.split(" ");for(var n in t)parseFloat(t[n])>i.maxAxisValue&&(i.maxAxisValue=parseFloat(t[n])),parseFloat(t[n])<i.minAxisValue&&(i.minAxisValue=parseFloat(t[n]));3!==t.length&&""!==t[3]||a?3!==t.length&&""!==t[3]||!a||(3===t.length?t.push("50"):""===t[3]&&(t[3]="50")):3===t.length?t.push("0"):""===t[3]&&(t[3]="0"),a?i.generatePointCloudData.push(t):i.originalPointCloudData.push(t)}))}},get_preview:function(){var e=h["init"](document.getElementById("preview"));this.option={title:{text:"点云生成预览"},tooltip:{show:!1,showCcontant:!0,trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},toolbox:{feature:{saveAsImage:{}}},legend:{type:"plain",data:["original_data","generate_data"],top:"10%"},grid3D:{containLabel:!0,viewControl:{projection:"orthographic"}},xAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},yAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},zAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},visualMap:{show:!1,calculable:!0,max:50,min:-0,range:[-200,200],inRange:{symbolSize:2,color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]}},series:[{name:"original_data",type:"scatter3D",data:this.originalPointCloudData,encode:{tooltip:[0,1,2,3,4]}},{name:"generate_data",type:"scatter3D",data:this.generatePointCloudData,encode:{tooltip:[0,1,2,3,4]}}]},e.setOption(this.option);var t=h["init"](document.getElementById("preview_original"));this.option_original={title:{text:"原始图"},tooltip:{show:!1,showCcontant:!0,trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},toolbox:{feature:{saveAsImage:{}}},grid3D:{containLabel:!0,viewControl:{projection:"orthographic"}},xAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},yAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},zAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},visualMap:{show:!1,calculable:!0,max:50,min:-0,range:[-200,200],inRange:{symbolSize:2,color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]}},series:[{name:"original_data",type:"scatter3D",data:this.originalPointCloudData,encode:{tooltip:[0,1,2,3,4]}}]},t.setOption(this.option_original);var a=h["init"](document.getElementById("preview_generate"));this.option_generate={title:{text:"生成图"},tooltip:{show:!0,showCcontant:!0,trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},toolbox:{feature:{saveAsImage:{}}},grid3D:{containLabel:!0,viewControl:{projection:"orthographic"}},xAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},yAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},zAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},visualMap:{show:!1,calculable:!0,max:50,min:-0,range:[-200,200],inRange:{symbolSize:2,color:["#313695","#4575b4","#74add1","#abd9e9","#e0f3f8","#ffffbf","#fee090","#fdae61","#f46d43","#d73027","#a50026"]}},series:[{name:"generate_data",type:"scatter3D",data:this.generatePointCloudData,encode:{tooltip:[0,1,2,3,4]}}]},a.setOption(this.option_generate)},previewHandleChange:function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,a,i,n,r,l,o,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.originalPointCloudData=[],this.generatePointCloudData=[],t=this.preview_value[0],a=this.preview_value[1],i=null,n=null,!this.original_is_Zip){e.next=17;break}return r=new _.a,e.next=10,r.loadAsync(this.original_files_zip).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.file(t).async("string").then((function(e){i=e}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:return this.make_format_data(t,i,0),l=new _.a,e.next=14,l.loadAsync(this.generate_files_zip).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l.file(a).async("string").then((function(e){n=e}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 14:this.make_format_data(a,n,1),e.next=21;break;case 17:o=new FileReader,o.readAsText(this.original_blob),h=this,o.onload=Object(s["a"])(regeneratorRuntime.mark((function e(){var t,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.result,h.make_format_data(h.preview_options[0].value,t,0),!h.generate_is_Zip){e.next=10;break}return i=new _.a,e.next=6,i.loadAsync(h.generate_files_zip).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i.file(a).async("string").then((function(e){n=e}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 6:h.make_format_data(a,n,1),h.get_preview(),e.next=13;break;case 10:r=new FileReader,r.readAsText(this.generate_blob),r.onload=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t=this.result,h.make_format_data(h.preview_options[0].children.value,t,1);case 2:case"end":return e.stop()}}),e,this)})));case 13:case"end":return e.stop()}}),e,this)})));case 21:console.log("this.originalPointCloudData:",this.originalPointCloudData),console.log("this.generatePointCloudData:",this.generatePointCloudData),this.get_preview();case 24:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleClose:function(e){var t=this;this.$confirm("确认关闭？").then((function(e){t.previewDialogVisible=!1,t.fileName="",t.preview_value=[],t.preview_options=[],t.previewDialogVisible=!1,t.loading=!0,t.original_files_zip=null,t.generate_files_zip=null,t.originalPointCloudData=[],t.generatePointCloudData=[],t.maxAxisValue=-1e4,t.minAxisValue=1e4})).catch((function(e){}))},changeAxios_xz:function(){for(var e in this.originalPointCloudData){var t=[this.originalPointCloudData[e][2],this.originalPointCloudData[e][0]];this.originalPointCloudData[e][0]=t[0],this.originalPointCloudData[e][2]=t[1]}for(var e in this.generatePointCloudData){var a=[this.generatePointCloudData[e][2],this.generatePointCloudData[e][0]];this.generatePointCloudData[e][0]=a[0],this.generatePointCloudData[e][2]=a[1]}this.get_preview()},changeAxios_yz:function(){for(var e in this.originalPointCloudData){var t=[this.originalPointCloudData[e][2],this.originalPointCloudData[e][1]];this.originalPointCloudData[e][1]=t[0],this.originalPointCloudData[e][2]=t[1]}for(var e in this.generatePointCloudData){var a=[this.generatePointCloudData[e][2],this.generatePointCloudData[e][1]];this.generatePointCloudData[e][1]=a[0],this.generatePointCloudData[e][2]=a[1]}this.get_preview()},changeAxios_xy:function(){for(var e in this.originalPointCloudData){var t=[this.originalPointCloudData[e][1],this.originalPointCloudData[e][0]];this.originalPointCloudData[e][0]=t[0],this.originalPointCloudData[e][1]=t[1]}for(var e in this.generatePointCloudData){var a=[this.generatePointCloudData[e][1],this.generatePointCloudData[e][0]];this.generatePointCloudData[e][0]=a[0],this.generatePointCloudData[e][1]=a[1]}this.get_preview()},isBlank_num:function(e){var t=e.column.property,a=e.row[t],i="-- --";return(0===a||!1===a||a)&&(i=a),i},isBlank_start:function(e){var t=e.column.property,a=e.row[t],i="未开始";return(0===a||!1===a||a)&&(i=a),"string"==typeof i&&(i=i.split("+")[0].split(".")[0]),i},isBlank_end:function(e){var t=e.column.property,a=e.row[t],i="未结束";return(0===a||!1===a||a)&&(i=a),"string"==typeof i&&(i=i.split("+")[0].split(".")[0]),i}}},b=v,k=(a("1653"),a("2877")),S=Object(k["a"])(b,i,n,!1,null,"a8fb33c2",null);t["default"]=S.exports}}]);