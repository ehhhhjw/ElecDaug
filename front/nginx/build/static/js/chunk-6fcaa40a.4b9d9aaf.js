(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6fcaa40a"],{"0691":function(e,a,t){},1028:function(e,a,t){"use strict";t.r(a);var i=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("div",{staticClass:"crumbs"},[t("el-breadcrumb",{attrs:{separator:"/"}},[t("el-breadcrumb-item",[t("i",{staticClass:"el-icon-s-help"}),e._v(" 激光雷达蜕变 ")]),t("el-breadcrumb-item",[e._v("数据可视化")])],1)],1),t("hr"),t("el-card",[t("div",{staticClass:"view"},[t("el-row",[t("el-col",{attrs:{span:12}},[t("div",[t("el-button",{staticStyle:{float:"left"},attrs:{type:"success",id:"fileImport"},on:{click:e.clickLoad}},[e._v("\n                            导入原雷达数据\n                        ")]),t("input",{ref:"refFile",staticStyle:{display:"none"},attrs:{type:"file",id:"files"},on:{change:e.fileLoad}})],1),t("div",[0!=this.originalPointCloudData.length?t("el-button",{staticStyle:{float:"left"},attrs:{type:"warning",id:"fileImport"},on:{click:e.clickLoad_label}},[e._v("\n                            导入原雷达标签\n                        ")]):e._e(),t("input",{ref:"refFile_label",staticStyle:{display:"none"},attrs:{type:"file",id:"files_label"},on:{change:e.fileLoad_label}})],1),t("div",{staticClass:"view1",attrs:{id:"main_o"}})]),t("el-col",{attrs:{span:12}},[t("div",[t("el-button",{staticStyle:{float:"left"},attrs:{type:"success",id:"fileImport_new"},on:{click:e.clickLoad_new}},[e._v("\n                            导入生成雷达数据\n                        ")]),t("input",{ref:"refFile_new",staticStyle:{display:"none"},attrs:{type:"file",id:"files_new"},on:{change:e.fileLoad_new}})],1),t("div",[0!=this.generatePointCloudData.length?t("el-button",{staticStyle:{float:"left"},attrs:{type:"warning",id:"fileImport"},on:{click:e.clickLoad_label_new}},[e._v("\n                            导入生成雷达标签\n                        ")]):e._e(),t("input",{ref:"refFile_label_new",staticStyle:{display:"none"},attrs:{type:"file",id:"files_label_new"},on:{change:e.fileLoad_label_new}})],1),t("div",{directives:[{name:"loading",rawName:"v-loading",value:e.original_loading,expression:"original_loading"}],staticClass:"view1",attrs:{id:"main_g"}})])],1)],1)])],1)},l=[],n=(t("7f7f"),t("ac6a"),t("28a5"),t("313e")),o=(t("e39c"),{data:function(){return{fileList:[],pointCloudData:[],pointCloudData_new:[],option:[],option1:[],originalPointCloudData:[],generatePointCloudData:[],originalLabelData:[],generateLabelData:[],maxAxisValue:-1e4,minAxisValue:1e4,maxLightValue:-1e4,minLightValue:1e4,original_buttom:!1,generate_buttom:!1,original_loading:!1,generate_loading:!1}},methods:{make_format_data:function(e,a,t){var i=this,l=null,n=[];return l=a.replaceAll("\r\n","\n").split("\n"),l.forEach((function(e){var a=e.split(" ");for(var l in a)l<3&&parseFloat(a[l])>i.maxAxisValue&&(i.maxAxisValue=parseFloat(a[l])),l<3&&parseFloat(a[l])<i.minAxisValue&&(i.minAxisValue=parseFloat(a[l]));3!==a.length&&""!==a[3]||t?3!==a.length&&""!==a[3]||!t||(1,3===a.length?a.push("100"):""===a[3]&&(a[3]="10")):(1,3===a.length?a.push("0"):""===a[3]&&(a[3]="0")),n.push(a)})),[n,this.maxAxisValue,this.minAxisValue]},make_format_data_label:function(e,a,t){console.log("labels:",a);var i=null,l=[],n=[],o=[];return i=a.replaceAll("\r\n","\n").split("\n"),i.forEach((function(e){var a=e.split(" "),i=[];"DontCare"!=a[0]&&""!=a[0]&&(i.push(parseFloat(a[13])),i.push(-1*parseFloat(a[11])),i.push(-1*parseFloat(a[12])),o.push(i)),t?n.push(a):l.push(a)})),o},get_preview:function(){var e=n["init"](document.getElementById("preview_original"));this.option_original={title:{text:"原始图"},tooltip:{show:!1,showCcontant:!0,trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{type:"plain",data:["original_data","original_label"],top:"10%"},toolbox:{feature:{saveAsImage:{}}},grid3D:{containLabel:!0,viewControl:{projection:"orthographic"}},xAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},yAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},zAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},series:[{name:"original_data",type:"scatter3D",data:this.originalPointCloudData,symbolSize:2,encode:{tooltip:[0,1,2,3,4]}},{name:"original_label",type:"scatter3D",data:this.originalLabelData,symbolSize:10,encode:{tooltip:[0,1,2,3,4]}}]},e.setOption(this.option_original)},fileLoad:function(){var e=this,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.originalPointCloudData=[],this.maxAxisValue=-1e4,this.minAxisValue=1e4,this.maxLightValue=-1e4,this.minLightValue=1e4,this.pointCloudData.length&&(this.pointCloudData=[]);var t=n["init"](document.getElementById("main_o")),i=this.$refs.refFile.files[0],l=i.name,o=i.size;if(0!=o&&"0"!=o){var s=[],r=new FileReader;r.readAsText(i);var d=this;r.onload=function(a){console.log("me.originalPointCloudData:",d.originalPointCloudData);var i=e.make_format_data(l,a.target.result,0);s=i[0],d.maxAxisValue=i[1],d.minAxisValue=i[2],console.log("me.maxAxisValue, me.minAxisValue:",d.maxAxisValue,d.minAxisValue),d.originalPointCloudData=s,console.log("me.originalPointCloudData:",d.originalPointCloudData),0!==e.originalPointCloudData.length&&(e.original_buttom=!0),e.option={title:{text:"激光雷达三维点云（原始图）"},tooltip:{trigger:"axis"},grid3D:{},xAxis3D:{type:"value",max:e.maxAxisValue.toFixed(3),min:e.minAxisValue.toFixed(3)},yAxis3D:{type:"value",max:e.maxAxisValue.toFixed(3),min:e.minAxisValue.toFixed(3)},zAxis3D:{type:"value",max:e.maxAxisValue.toFixed(3),min:e.minAxisValue.toFixed(3)},series:[{type:"scatter3D",data:s,symbolSize:2}]},t.setOption(e.option)},console.log("originalPointCloudData_temp:",s),a.close()}else a.close()},fileLoad_new:function(){var e=this,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.generatePointCloudData=[],this.maxAxisValue=-1e4,this.minAxisValue=1e4,this.maxLightValue=-1e4,this.minLightValue=1e4,this.pointCloudData.length&&(this.pointCloudData=[]);var t=n["init"](document.getElementById("main_g")),i=this.$refs.refFile_new.files[0],l=i.name,o=i.size;if(0!=o&&"0"!=o){var s=[],r=new FileReader;r.readAsText(i);var d=this;r.onload=function(a){console.log("me.generatePointCloudData:",d.generatePointCloudData);var i=e.make_format_data(l,a.target.result,0);s=i[0],d.maxAxisValue=i[1],d.minAxisValue=i[2],console.log("me.maxAxisValue, me.minAxisValue:",d.maxAxisValue,d.minAxisValue),d.generatePointCloudData=s,console.log("me.generatePointCloudData:",d.generatePointCloudData),0!==e.generatePointCloudData.length&&(e.generate_buttom=!0),e.option={title:{text:"激光雷达三维点云（生成图）"},tooltip:{trigger:"axis"},grid3D:{},xAxis3D:{type:"value",max:e.maxAxisValue.toFixed(3),min:e.minAxisValue.toFixed(3)},yAxis3D:{type:"value",max:e.maxAxisValue.toFixed(3),min:e.minAxisValue.toFixed(3)},zAxis3D:{type:"value",max:e.maxAxisValue.toFixed(3),min:e.minAxisValue.toFixed(3)},series:[{type:"scatter3D",data:s,symbolSize:2}]},t.setOption(e.option)},a.close()}else a.close()},fileLoad_label:function(){var e=this,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.originalLabelData.length&&(this.originalLabelData=[]);var t=n["init"](document.getElementById("main_o"));console.log("this.$refs.refFile_label.files:",this.$refs.refFile_label.files);var i=this.$refs.refFile_label.files[0],l=i.name,o=(i.size,[]),s=new FileReader;s.readAsText(i);var r=this;s.onload=function(a){console.log("me.originalLabelData:",r.originalLabelData),console.log("e.target.result:",a.target.result),o=e.make_format_data_label(l,a.target.result,0),r.originalLabelData=o,console.log("me.originalLabelData:",r.originalLabelData),e.option={title:{text:"激光雷达三维点云（原始图）"},tooltip:{trigger:"axis"},legend:{type:"plain",data:["original_data","original_label"],top:"10%"},grid3D:{},xAxis3D:{type:"value",max:r.maxAxisValue.toFixed(3),min:r.minAxisValue.toFixed(3)},yAxis3D:{type:"value",max:r.maxAxisValue.toFixed(3),min:r.minAxisValue.toFixed(3)},zAxis3D:{type:"value",max:r.maxAxisValue.toFixed(3),min:r.minAxisValue.toFixed(3)},series:[{name:"original_data",type:"scatter3D",data:r.originalPointCloudData,symbolSize:2,encode:{tooltip:[0,1,2,3,4]}},{name:"original_label",type:"scatter3D",data:r.originalLabelData,symbolSize:10,encode:{tooltip:[0,1,2,3,4]}}]},t.setOption(e.option)},a.close()},fileLoad_label_new:function(){var e=this,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});this.generateLabelData.length&&(this.generateLabelData=[]);var t=n["init"](document.getElementById("main_g"));console.log("this.$refs.refFile_label.files:",this.$refs.refFile_label_new.files);var i=this.$refs.refFile_label_new.files[0],l=i.name,o=(i.size,[]),s=new FileReader;s.readAsText(i);var r=this;s.onload=function(a){console.log("me.generateLabelData:",r.generateLabelData),console.log("e.target.result:",a.target.result),o=e.make_format_data_label(l,a.target.result,0),r.generateLabelData=o,console.log("me.generateLabelData:",r.generateLabelData),e.option={title:{text:"激光雷达三维点云（原始图）"},tooltip:{trigger:"axis"},legend:{type:"plain",data:["generate_data","generate_label"],top:"10%"},grid3D:{},xAxis3D:{type:"value",max:r.maxAxisValue.toFixed(3),min:r.minAxisValue.toFixed(3)},yAxis3D:{type:"value",max:r.maxAxisValue.toFixed(3),min:r.minAxisValue.toFixed(3)},zAxis3D:{type:"value",max:r.maxAxisValue.toFixed(3),min:r.minAxisValue.toFixed(3)},series:[{name:"generate_data",type:"scatter3D",data:r.generatePointCloudData,symbolSize:2,encode:{tooltip:[0,1,2,3,4]}},{name:"generate_label",type:"scatter3D",data:r.generateLabelData,symbolSize:10,encode:{tooltip:[0,1,2,3,4]}}]},t.setOption(e.option)},a.close()},clickLoad:function(){this.$refs.refFile.dispatchEvent(new MouseEvent("click"))},clickLoad_new:function(){this.$refs.refFile_new.dispatchEvent(new MouseEvent("click"))},clickLoad_label:function(){this.$refs.refFile_label.dispatchEvent(new MouseEvent("click"))},clickLoad_label_new:function(){this.$refs.refFile_label_new.dispatchEvent(new MouseEvent("click"))}},mounted:function(){this.$store.commit("setUserId",sessionStorage.getItem("userId"))}}),s=o,r=(t("a81a"),t("2877")),d=Object(r["a"])(s,i,l,!1,null,"4ce553ea",null);a["default"]=d.exports},a81a:function(e,a,t){"use strict";t("0691")}}]);