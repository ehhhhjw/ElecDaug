(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5efa4fec"],{"0c59":function(e,t,a){},2253:function(e,t,a){"use strict";a("0c59")},d406:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"crumbs"},[a("el-breadcrumb",{attrs:{separator:"/"}},[a("el-breadcrumb-item",[a("i",{staticClass:"el-icon-s-help"}),e._v(" 激光雷达蜕变 ")]),a("el-breadcrumb-item",[e._v("生成任务查询")])],1)],1),a("el-card",[a("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"本用户",name:"self"}},[a("el-row",{staticClass:"search",attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline_Self}},[a("el-form-item",{attrs:{label:"查询方式"}},[a("el-select",{staticClass:"marginRight",attrs:{clearable:"",placeholder:"请选择查询方式",prop:"searchType"},on:{clear:function(t){return e.getTaskList_Self()},change:function(t){return e.pageReflash_Self()}},model:{value:e.formInline_Self.searchType,callback:function(t){e.$set(e.formInline_Self,"searchType",t)},expression:"formInline_Self.searchType"}},[a("el-option",{attrs:{label:"生成方法",value:"生成方法"}}),a("el-option",{attrs:{label:"任务名称",value:"任务名称"}}),a("el-option",{attrs:{label:"任务id",value:"任务id"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"生成方法"==e.formInline_Self.searchType,expression:"formInline_Self.searchType == '生成方法'"}],attrs:{label:"生成方法"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"请选择生成方法",prop:"searchType"},on:{change:function(t){e.pageReflash_Self(),e.SearchTask_Self()}},model:{value:e.generate_func_self,callback:function(t){e.generate_func_self=t},expression:"generate_func_self"}},e._l(e.generate_func_list,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"生成方法"!=e.formInline_Self.searchType&&""!=e.formInline_Self.searchType,expression:"formInline_Self.searchType != '生成方法' && formInline_Self.searchType != ''"}],attrs:{label:"查询内容"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.handleSelectClear},model:{value:e.formInline_Self.searchTaskInfo,callback:function(t){e.$set(e.formInline_Self,"searchTaskInfo",t)},expression:"formInline_Self.searchTaskInfo"}},[a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.isFuzzySearch(0),e.pageReflash_Self(),e.SearchTask_Self()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"}),e._v("精确")]),"任务id"!=e.formInline_Self.searchType?a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.isFuzzySearch(1),e.pageReflash_Self(),e.SearchTask_Self()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"}),e._v("模糊")]):e._e()],1)],1)],1)],1)],1),a("v-table",{attrs:{taskList:this.taskList_Self,is_root:"0",show_point_preview:1},on:{getList:e.handleGetList,delete:e.removeTaskById,MethodDetail:e.MethodDetail,methodDialogClose:e.methodDialogClose,showEditDialog:e.showEditDialog,editDialogClosed:e.editDialogClosed,originalfileDownload:e.originalfileDownloadTemp,generatefileDownload:e.generatefileDownloadTemp,point_cloud_preview:e.point_cloud_preview}}),a("el-pagination",{attrs:{"current-page":e.queryInfo_Self.page,"page-size":10,layout:"prev, pager, next",total:e.total_Self},on:{"size-change":e.handleSizeChange_Self,"current-change":e.handleCurrentChange_Self,"update:currentPage":function(t){return e.$set(e.queryInfo_Self,"page",t)},"update:current-page":function(t){return e.$set(e.queryInfo_Self,"page",t)}}})],1),"超级管理员"===this.userRight?a("el-tab-pane",{attrs:{label:"所有用户",name:"all"}},[a("el-row",{staticClass:"search",attrs:{gutter:20}},[a("el-col",{attrs:{span:20}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0,model:e.formInline_All}},[a("el-form-item",{attrs:{label:"查询方式"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"请选择查询方式",prop:"searchType",clearable:""},on:{clear:function(t){e.getTaskList_All(),e.clearSecondSelect_All()},change:function(t){return e.pageReflash_All()}},model:{value:e.formInline_All.searchType,callback:function(t){e.$set(e.formInline_All,"searchType",t)},expression:"formInline_All.searchType"}},[a("el-option",{attrs:{label:"生成方法",value:"生成方法"}}),a("el-option",{attrs:{label:"任务名称",value:"任务名称"}}),a("el-option",{attrs:{label:"任务id",value:"任务id"}}),a("el-option",{attrs:{label:"用户id",value:"用户id"}}),a("el-option",{attrs:{label:"用户名",value:"用户名"}})],1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"生成方法"==e.formInline_All.searchType,expression:"formInline_All.searchType == '生成方法'"}],attrs:{label:"生成方法"}},[a("el-select",{staticClass:"marginRight",attrs:{placeholder:"请选择生成方法",prop:"searchType"},on:{change:function(t){e.pageReflash_All(),e.getTaskList_All()}},model:{value:e.generate_func_all,callback:function(t){e.generate_func_all=t},expression:"generate_func_all"}},e._l(e.generate_func_list,(function(e){return a("el-option",{key:e.name,attrs:{label:e.name,value:e.id}})})),1)],1),a("el-form-item",{directives:[{name:"show",rawName:"v-show",value:"生成方法"!=e.formInline_All.searchType&&""!=e.formInline_All.searchType,expression:"formInline_All.searchType != '生成方法' && formInline_All.searchType != ''"}],attrs:{label:"查询内容"}},[a("el-input",{attrs:{placeholder:"请输入内容",clearable:""},on:{clear:e.getTaskList_All},model:{value:e.formInline_All.searchTaskInfo,callback:function(t){e.$set(e.formInline_All,"searchTaskInfo",t)},expression:"formInline_All.searchTaskInfo"}},[a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.isFuzzySearch(0),e.getTaskList_All(),e.pageReflash_All()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"}),e._v("精确")]),"任务id"!=e.formInline_All.searchType&&"用户id"!=e.formInline_All.searchType&&"用户名"!=e.formInline_All.searchType?a("el-button",{attrs:{slot:"append",size:"mini"},on:{click:function(t){e.isFuzzySearch(1),e.getTaskList_All(),e.pageReflash_All()}},slot:"append"},[a("i",{staticClass:"el-icon-search el-icon--right"}),e._v("模糊")]):e._e()],1)],1)],1)],1)],1),a("v-table",{attrs:{taskList:this.taskList_All,is_root:"1",show_point_preview:1},on:{getList:e.handleGetList,delete:e.removeTaskById,MethodDetail:e.MethodDetail,methodDialogClose:e.methodDialogClose,showEditDialog:e.showEditDialog,editDialogClosed:e.editDialogClosed,originalfileDownload:e.originalfileDownloadTemp,generatefileDownload:e.generatefileDownloadTemp,point_cloud_preview:e.point_cloud_preview}}),a("el-pagination",{attrs:{"current-page":e.queryInfo_All.page,"page-size":10,layout:"prev, pager, next",total:e.total_All},on:{"size-change":e.handleSizeChange_All,"current-change":e.handleCurrentChange_All,"update:currentPage":function(t){return e.$set(e.queryInfo_All,"page",t)},"update:current-page":function(t){return e.$set(e.queryInfo_All,"page",t)}}})],1):e._e()],1)],1),a("el-dialog",{attrs:{title:"编辑任务信息",visible:e.editDialogSelfVisible,width:"50%"},on:{"update:visible":function(t){e.editDialogSelfVisible=t},closed:e.editDialogClosed}},[a("el-form",{ref:"editFormRef",staticStyle:{width:"90%"},attrs:{model:e.editForm_Self,rules:e.rulesList,"label-width":"110px"}},[a("el-form-item",{attrs:{label:"任务id"}},[a("el-input",{attrs:{disabled:""},model:{value:e.editForm_Self.id,callback:function(t){e.$set(e.editForm_Self,"id",t)},expression:"editForm_Self.id"}})],1),a("el-form-item",{attrs:{label:"任务名",prop:"name"}},[a("el-input",{model:{value:e.editForm_Self.name,callback:function(t){e.$set(e.editForm_Self,"name",t)},expression:"editForm_Self.name"}})],1),a("el-form-item",{attrs:{label:"紧急等级"}},[a("el-slider",{attrs:{min:1,max:5,step:1,marks:e.mark_group.marks1_5},model:{value:e.editForm_Self.urgency_level,callback:function(t){e.$set(e.editForm_Self,"urgency_level",t)},expression:"editForm_Self.urgency_level"}})],1),"场景物体添加蜕变-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{attrs:{label:"生成卡车类型"}},[a("div",{staticStyle:{float:"left","margin-right":"5px"}},[a("el-select",{attrs:{placeholder:"请选择生成卡车类型"},on:{change:e.showeditForm},model:{value:e.editForm_Self.aug_object_truck,callback:function(t){e.$set(e.editForm_Self,"aug_object_truck",t)},expression:"editForm_Self.aug_object_truck"}},e._l(e.truck_options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]):e._e(),"场景物体添加蜕变-激光雷达"===this.editForm_Self.augmentation_method_name&&e.editForm_Self.aug_object_truck?a("el-form-item",{attrs:{label:"生成卡车数量",prop:"aug_count_Truck"}},[a("el-slider",{attrs:{"show-input":""},model:{value:e.editForm_Self.aug_count_truck,callback:function(t){e.$set(e.editForm_Self,"aug_count_truck",t)},expression:"editForm_Self.aug_count_truck"}})],1):e._e(),"场景物体添加蜕变-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{attrs:{label:"生成轿车类型",prop:"aug_object_Car"}},[a("div",{staticStyle:{float:"left","margin-right":"5px"}},[a("el-select",{attrs:{placeholder:"请选择生成轿车类型"},model:{value:e.editForm_Self.aug_object_car,callback:function(t){e.$set(e.editForm_Self,"aug_object_car",t)},expression:"editForm_Self.aug_object_car"}},e._l(e.car_options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]):e._e(),"场景物体添加蜕变-激光雷达"===this.editForm_Self.augmentation_method_name&&e.editForm_Self.aug_object_car?a("el-form-item",{attrs:{label:"生成轿车数量",prop:"aug_count_Car"}},[a("el-slider",{attrs:{"show-input":""},model:{value:e.editForm_Self.aug_count_car,callback:function(t){e.$set(e.editForm_Self,"aug_count_car",t)},expression:"editForm_Self.aug_count_car"}})],1):e._e(),"场景物体添加蜕变-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{attrs:{label:"生成自行车类型",prop:"aug_object_Cyclist"}},[a("div",{staticStyle:{float:"left","margin-right":"5px"}},[a("el-select",{attrs:{placeholder:"请选择生成自行车类型"},model:{value:e.editForm_Self.aug_object_cyclist,callback:function(t){e.$set(e.editForm_Self,"aug_object_cyclist",t)},expression:"editForm_Self.aug_object_cyclist"}},e._l(e.cyclist_options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]):e._e(),"场景物体添加蜕变-激光雷达"===this.editForm_Self.augmentation_method_name&&e.editForm_Self.aug_object_cyclist?a("el-form-item",{attrs:{label:"生成自行车数量",prop:"aug_count_Cyclist"}},[a("el-slider",{attrs:{"show-input":""},model:{value:e.editForm_Self.aug_count_cyclist,callback:function(t){e.$set(e.editForm_Self,"aug_count_cyclist",t)},expression:"editForm_Self.aug_count_cyclist"}})],1):e._e(),"场景物体添加蜕变-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{attrs:{label:"生成卡车类型"}},[a("div",{staticStyle:{float:"left","margin-right":"5px"}},[a("el-select",{attrs:{placeholder:"请选择生成卡车类型"},on:{change:e.showeditForm},model:{value:e.editForm_Self.aug_object_truck,callback:function(t){e.$set(e.editForm_Self,"aug_object_truck",t)},expression:"editForm_Self.aug_object_truck"}},e._l(e.truck_options,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1)],1)]):e._e(),"场景物体旋转蜕变-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{attrs:{label:"物体旋转角度",prop:"angle"}},[a("div",{staticStyle:{float:"left","margin-right":"5px",width:"400px"}},[a("el-slider",{attrs:{"show-input":"",min:-180,max:180,step:.5,marks:e.marks},model:{value:e.editForm_Self.angle,callback:function(t){e.$set(e.editForm_Self,"angle",t)},expression:"editForm_Self.angle"}})],1)]):e._e(),"极端场景蜕变-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{attrs:{label:"是否加入卡车"}},[a("div",{staticStyle:{float:"left","margin-right":"5px"}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.editForm_Self.aug_Truck,callback:function(t){e.$set(e.editForm_Self,"aug_Truck",t)},expression:"editForm_Self.aug_Truck"}})],1)]):e._e(),"极端场景蜕变-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{attrs:{label:"是否加入轿车"}},[a("div",{staticStyle:{float:"left","margin-right":"5px"}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.editForm_Self.aug_Car,callback:function(t){e.$set(e.editForm_Self,"aug_Car",t)},expression:"editForm_Self.aug_Car"}})],1)]):e._e(),"极端场景蜕变-激光雷达"===this.editForm_Self.augmentation_method_name?a("el-form-item",{attrs:{label:"是否加入自行车"}},[a("div",{staticStyle:{float:"left","margin-right":"5px"}},[a("el-switch",{attrs:{"active-text":"是","inactive-text":"否"},model:{value:e.editForm_Self.aug_Cyclist,callback:function(t){e.$set(e.editForm_Self,"aug_Cyclist",t)},expression:"editForm_Self.aug_Cyclist"}})],1)]):e._e(),a("el-form-item",{attrs:{label:"重新上传文件",prop:"file"}},[a("input",{attrs:{type:"file",id:"filetemp",prop:"editForm_Self.file"}}),a("br")])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.editDialogSelfVisible=!1}}},[e._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:e.editTaskInfo}},[e._v("确 定")])],1)],1),a("el-dialog",{attrs:{title:"生成任务详情",visible:e.methodDialogSelfVisible,width:"50%","body-style":"background-color: rgba(255, 255, 255, 0.6);","destroy-on-close":""},on:{"update:visible":function(t){e.methodDialogSelfVisible=t},close:e.methodDialogClose}},[a("div",{staticClass:"user-info-list"},[e._v("\n            任务id：\n            "),a("span",[e._v(e._s(e.methodDetail.id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务名称：\n            "),a("span",[e._v(e._s(e.methodDetail.name))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            紧急等级：\n            "),a("span",[e._v(e._s(e.methodDetail.urgency_level))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务参数：\n            "),a("span",[e._v(e._s(e.methodDetail.params?e.methodDetail.params:"暂无"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务状态：\n            "),a("span",[e._v(e._s(e.methodDetail.task_status))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            是否上传原型文件：\n            "),a("span",[e._v(e._s(e.methodDetail.task_have_origin_file?"是":"否"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            是否生成扩增文件：\n            "),a("span",[e._v(e._s(e.methodDetail.task_have_generate_file?"是":"否"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务扩增数据数量：\n            "),a("span",[e._v(e._s(e.methodDetail.generate_data_number?e.methodDetail.generate_data_number:"暂无"))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务数据更新时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.update_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务开始时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.start_datetime?e.methodDetail.start_datetime:"未开始")))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务结束时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.fin_datetime?e.methodDetail.start_datetime:"未结束")))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者id：\n            "),a("span",[e._v(e._s(e.methodDetail.master_id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者username：\n            "),a("span",[e._v(e._s(e.methodDetail.master_username))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者nickname：\n            "),a("span",[e._v(e._s(e.methodDetail.master_nickname))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者用户组：\n            "),a("span",[e._v(e._s(e.methodDetail.master_user_group))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者加入时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.master_join_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者最近一次登录时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.master_last_login_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            任务所有者信息更新时间：\n            "),a("span",[e._v(e._s(e._f("dateFormat")(e.methodDetail.master_update_datetime)))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增方法id：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_method_id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增方法名称：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_method_name))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增方法的细节、介绍等：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_method_details))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增类型id：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_type_id))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增类型名称：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_type_name))])]),a("div",{staticClass:"user-info-list"},[e._v("\n            扩增类型的细节、介绍等：\n            "),a("span",[e._v(e._s(e.methodDetail.augmentation_type_details))])]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"warning"},on:{click:e.taskException}},[e._v("标记任务异常")]),a("el-button",{on:{click:function(t){e.methodDialogSelfVisible=!1}}},[e._v("关 闭")])],1)]),a("el-dialog",{attrs:{title:"生成点云预览",visible:e.previewDialogVisible,width:"1300px",height:"630px","before-close":e.handleClose,center:""},on:{"update:visible":function(t){e.previewDialogVisible=t}}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"this.loading"}],staticStyle:{height:"600px"},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading"}},[e.loading?e._e():a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration right"},[e._v("选择对比点云")]),a("el-cascader",{staticStyle:{width:"800px"},attrs:{options:e.preview_options,props:{expandTrigger:"hover"}},on:{change:e.previewHandleChange},model:{value:e.preview_value,callback:function(t){e.preview_value=t},expression:"preview_value"}}),a("el-carousel",{attrs:{trigger:"click",height:"570px"}},e._l(2,(function(t){return a("el-carousel-item",{key:t},[1==t?a("div",{staticClass:"juzhog",attrs:{id:"preview"}}):e._e(),2==t?a("div",[a("div",{staticClass:"view1",attrs:{id:"preview_original"}}),a("div",{staticClass:"view1",attrs:{id:"preview_generate"}})]):e._e()])})),1)],1)])])],1)},l=[],n=(a("ac4d"),a("8a81"),a("5df3"),a("1c4c"),a("6b54"),a("768b")),r=(a("ac6a"),a("7f7f"),a("96cf"),a("3b8d")),s=a("bd86"),o=a("7618"),c=(a("28a5"),a("a481"),a("3b2b"),a("313e")),u=(a("e39c"),a("4328"),a("19de")),_=a.n(u),h=a("c4e3"),g=a.n(h),f=a("0c97");function d(e,t){var a;if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(a=m(e))||t&&e&&"number"===typeof e.length){a&&(e=a);var i=0,l=function(){};return{s:l,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:l}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r=!0,s=!1;return{s:function(){a=e[Symbol.iterator]()},n:function(){var e=a.next();return r=e.done,e},e:function(e){s=!0,n=e},f:function(){try{r||null==a.return||a.return()}finally{if(s)throw n}}}}function m(e,t){if(e){if("string"===typeof e)return p(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,i=new Array(t);a<t;a++)i[a]=e[a];return i}var b={data:function(){var e,t=function(e,t,a){var i=new RegExp("^[1-9][0-9]*$").test(t);"0"===t||i?a():a(new Error("请输入非负整数"))},a=function(e,t,a){t<1?a(new Error("只能为大于等于1整数")):a()},i=function(e,t,a){var i=/^[0-9]*$/;i.test(t)?a():a(new Error("只能为非负数字"))},l=function(e,t,a){t<0?a(new Error("只能为非负数")):a()},n=function(e,t,a){t=t.replace("[",""),t=t.replace("]",""),t=t.replace("，",",");var i=t.split(",");for(var l in i)"number"===!Object(o["a"])(parseFloat(i[l]))&&!isNaN(parseFloat(i[l]))&&parseFloat(i[l])<0?a(new Error("请填写合理的非负数字列表")):a()};return e={mark_group:{mark0:{0:"0"},mark01_255:{.1:"0.1",255:"255"},marks0_5:{0:"0",5:"5"},marks1_5:{1:"1",5:"5"}},marks:{0:"0"},truck_options:[{value:"1",label:"类型1"},{value:"2",label:"类型2"},{value:"3",label:"类型3"}],car_options:[{value:"1",label:"类型1"}],cyclist_options:[{value:"1",label:"类型1"},{value:"2",label:"类型2"}],full_loading_flag:!1,generate_func_self:"",generate_func_all:"",generate_func_list:[],queryInfo_Self:{page:1},taskList_Self:[],total_Self:0,formInline_Self:{searchType:"",searchTaskInfo:""},editDialogSelfVisible:!1,editForm_Self:{task_id:0,master:this.$store.getters.userId,name:"",params:"",file:{},augmentation_method_name:"",aug_object_truck:null,aug_object_car:null,aug_object_cyclist:null},editFormSelfRules:{name:[{required:!0,message:"请输入任务名",trigger:"blur"}]},queryInfo_All:{page:1},taskList_All:[],total_All:0,formInline_All:{searchType:"",searchTaskInfo:""},editDialogAllVisible:!1,editForm_All:{},editFormAllRules:{name:[{required:!0,message:"请输入任务名",trigger:"blur"}]},FuzzySearch:1,activeName:"self"},Object(s["a"])(e,"taskList_All",[]),Object(s["a"])(e,"userRight",""),Object(s["a"])(e,"methodDialogSelfVisible",!1),Object(s["a"])(e,"methodDetail",[]),Object(s["a"])(e,"mohu",!0),Object(s["a"])(e,"fileName",""),Object(s["a"])(e,"preview_value",[]),Object(s["a"])(e,"preview_options",[]),Object(s["a"])(e,"previewDialogVisible",!1),Object(s["a"])(e,"loading",!0),Object(s["a"])(e,"original_files_zip",null),Object(s["a"])(e,"generate_files_zip",null),Object(s["a"])(e,"originalPointCloudData",[]),Object(s["a"])(e,"generatePointCloudData",[]),Object(s["a"])(e,"originalLabelData",[]),Object(s["a"])(e,"generateLabelData",[]),Object(s["a"])(e,"maxAxisValue",-1e4),Object(s["a"])(e,"minAxisValue",1e4),Object(s["a"])(e,"original_is_Zip",!1),Object(s["a"])(e,"generate_is_Zip",!1),Object(s["a"])(e,"original_fileContent",""),Object(s["a"])(e,"generate_fileContent",""),Object(s["a"])(e,"original_blob",null),Object(s["a"])(e,"generate_blob",null),Object(s["a"])(e,"test_text","djshdkjdhkadh"),Object(s["a"])(e,"change_axios_buttom",!1),Object(s["a"])(e,"editForm",{}),Object(s["a"])(e,"rules1",{augmentation_method:[{required:!0,message:"不能为空",trigger:"change"}],epsilon:[{required:!0,message:"不能为空",trigger:"blur"},{validator:n,trigger:"blur"}],generate_per_file_and_params:[{required:!0,message:"不能为空",trigger:"blur"},{validator:a,trigger:"blur"},{validator:i,trigger:"blur"}],urgency_level:[{required:!0,message:"不能为空",trigger:"blur"},{validator:t,trigger:"blur"}]}),Object(s["a"])(e,"rules2",{augmentation_method:[{required:!0,message:"不能为空",trigger:"change"}],ite_epsilon:[{required:!0,message:"不能为空",trigger:"blur"},{validator:l,trigger:"blur"}],ite_limit:[{required:!0,message:"不能为空",trigger:"blur"},{validator:i,trigger:"blur"}],generate_per_file:[{required:!0,message:"不能为空",trigger:"blur"},{validator:a,trigger:"blur"},{validator:i,trigger:"blur"}],urgency_level:[{required:!0,message:"不能为空",trigger:"blur"},{validator:t,trigger:"blur"}]}),Object(s["a"])(e,"rules3",{augmentation_method:[{required:!0,message:"不能为空",trigger:"change"}],ite_epsilon:[{required:!0,message:"不能为空",trigger:"blur"},{validator:l,trigger:"blur"}],ite_limit:[{required:!0,message:"不能为空",trigger:"blur"},{validator:i,trigger:"blur"}],generate_per_file:[{required:!0,message:"不能为空",trigger:"blur"},{validator:a,trigger:"blur"},{validator:i,trigger:"blur"}],boundary_constraint:[{required:!0,message:"不能为空",trigger:"blur"},{validator:l,trigger:"blur"}],urgency_level:[{required:!0,message:"不能为空",trigger:"blur"},{validator:t,trigger:"blur"}]}),Object(s["a"])(e,"picture","https://fuss10.elemecdn.com/e/5d/4a731a90594a4af544c0c25941171jpeg.jpeg"),e},components:{vTable:f["a"]},computed:{rulesList:function(){return"FGSM"===this.editForm_Self.augmentation_method_name?this.rules1:"JSMA"===this.editForm_Self.augmentation_method_name?this.rules3:this.rules2}},created:function(){this.userRight=window.sessionStorage.getItem("user_group_name"),this.getTaskList_Self()},mounted:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.$store.commit("setUserId",sessionStorage.getItem("userId")),e.next=3,this.$http.get("/augmentation_method/?augmentation_type=2");case 3:t=e.sent,console.log("data:",t),this.generate_func_list=t.data.data,console.log("this.generate_func_list:",this.generate_func_list);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),methods:{handleClick:function(e,t){"1"===e.index&&this.getTaskList_All()},handleSelectClear:function(){this.getTaskList_Self(),this.generate_func_self=""},handleGetList:function(e){e?this.getTaskList_All():this.getTaskList_Self()},getTaskList_Self:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$http.get("/task/augmentation_type/search/?augmentation_type=2&page="+this.queryInfo_Self.page);case 2:if(t=e.sent,a=t.data,2e4===a.code){e.next=12;break}if(40400!==a.code){e.next=11;break}return console.log("data:",a),this.taskList_Self=[],this.totalPageNum=0,this.total_Self=0,e.abrupt("return",this.$message.error("本用户未添加任务！"));case 11:return e.abrupt("return",this.$message.error("获取本用户任务列表失败！"));case 12:this.taskList_Self=a.data.details,this.totalPageNum=a.data.pages,console.log("this.taskList_Self:",this.taskList_Self),this.total_Self=10*this.totalPageNum;case 16:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),SearchTask_Self:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!==this.formInline_Self.searchType){e.next=2;break}return e.abrupt("return",this.$message.error("请输入查询方式！"));case 2:if(t=0,a="","生成方法"!==this.formInline_Self.searchType){e.next=10;break}a="/task/augmentation_method/search/?augmentation_method="+this.generate_func_self+"&page="+this.queryInfo_Self.page,console.log("this.generate_func_self:",this.generate_func_self),console.log("this.queryInfo_Self.page:",this.queryInfo_Self.page),e.next=13;break;case 10:if(""!==this.formInline_Self.searchTaskInfo){e.next=12;break}return e.abrupt("return",this.$message.error("请输入搜索内容！"));case 12:a="任务名称"===this.formInline_Self.searchType?"/task/name/search/?augmentation_type=2&task_name="+this.formInline_Self.searchTaskInfo+"&search_type="+this.FuzzySearch+"&page="+this.queryInfo_Self.page:"/task/id/search/?augmentation_type=2&task_id="+this.formInline_Self.searchTaskInfo+"&page="+this.queryInfo_Self.page;case 13:return e.next=15,this.$http.get(a);case 15:if(i=e.sent,l=i.data,console.log("data:",l),2e4===l.code){e.next=22;break}return this.taskList_Self=[],this.total_Self=0,e.abrupt("return",this.$message.error("未搜索到该任务！"));case 22:"任务id"===this.formInline_Self.searchType?(t=1,this.taskList_Self=[],this.taskList_Self.push(l.data)):this.taskList_Self=l.data.details,console.log("data:",l),this.totalPageNum=l.data.pages,this.total_Self=10*this.totalPageNum,this.total_Self=10===this.total_Self?this.taskList_Self.length:this.total_Self,t&&(this.total_Self=this.taskList_Self.length);case 28:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),getTaskList_All:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,i,l,n,r,s,o,c,u,_,h,g,f;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(console.log("this.generate_func_all:",this.generate_func_all),console.log("this.formInline_All.searchType:",this.formInline_All.searchType),"生成方法"===this.formInline_All.searchType||""!==this.formInline_All.searchType&&""!==this.formInline_All.searchTaskInfo){e.next=24;break}return e.next=5,this.$http.get("/task/augmentation_type/admin/search/?augmentation_type=2&page="+this.queryInfo_All.page);case 5:if(t=e.sent,a=t.data,40400!=a.code){e.next=13;break}return console.log("data:",a),this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("所有用户都未添加任务！"));case 13:if(2e4===a.code){e.next=19;break}return console.log("所有用户data:",a),this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("获取任务列表失败[所有用户]！错误原因："+a.msg));case 19:this.taskList_All=a.data.details,this.totalPageNum=a.data.pages,this.total_All=10*this.totalPageNum,e.next=120;break;case 24:if("用户id"!==this.formInline_All.searchType){e.next=40;break}return e.next=27,this.$http.get("/task/augmentation_type/admin/search/?augmentation_type=2&page="+this.queryInfo_All.page+"&user_id="+this.formInline_All.searchTaskInfo);case 27:if(i=e.sent,l=i.data,2e4===l.code){e.next=35;break}return console.log("data:",l),this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("获取任务列表失败[用户id]！错误原因："+l.msg));case 35:this.taskList_All=l.data.details,this.totalPageNum=l.data.pages,this.total_All=10*this.totalPageNum,e.next=120;break;case 40:if("任务名称"!==this.formInline_All.searchType){e.next=56;break}return e.next=43,this.$http.get("/task/name/admin/search/?augmentation_type=2&page="+this.queryInfo_All.page+"&task_name="+this.formInline_All.searchTaskInfo+"&search_type="+this.FuzzySearch);case 43:if(n=e.sent,r=n.data,console.log("data:",r),2e4===r.code){e.next=51;break}return this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("获取查询列表失败[任务名称]！错误原因："+r.msg));case 51:this.taskList_All=r.data.details,this.totalPageNum=r.data.pages,this.total_All=10*this.totalPageNum,e.next=120;break;case 56:if("任务id"!==this.formInline_All.searchType){e.next=74;break}return e.next=59,this.$http.get("/task/id/admin/search/?augmentation_type=2&page="+this.queryInfo_All.page+"&task_id="+this.formInline_All.searchTaskInfo);case 59:if(s=e.sent,o=s.data,2e4===o.code){e.next=66;break}return this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("获取查询列表失败[任务id]！错误原因："+o.msg));case 66:console.log("data:",o),console.log("this.taskList_All:",this.taskList_All),this.taskList_Self=[],this.taskList_Self.push(o.data.details),this.totalPageNum=o.data.pages,this.total_All=this.taskList_All.length,e.next=120;break;case 74:if("生成类型id"!==this.formInline_All.searchType){e.next=89;break}return e.next=77,this.$http.get("/task/augmentation_type/admin/search/?page="+this.queryInfo_All.page+"&augmentation_type="+this.formInline_All.searchTaskInfo);case 77:if(c=e.sent,u=c.data,2e4===u.code){e.next=84;break}return this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("获取查询列表失败[生成类型]！错误原因："+u.msg));case 84:this.taskList_All=u.data.details,this.totalPageNum=u.data.pages,this.total_All=10*this.totalPageNum,e.next=120;break;case 89:if("生成方法"!==this.formInline_All.searchType){e.next=106;break}return console.log("here,this.generate_func_all22222:",this.generate_func_all),e.next=93,this.$http.get("/task/augmentation_method/admin/search/?page="+this.queryInfo_All.page+"&augmentation_method="+this.generate_func_all);case 93:if(_=e.sent,h=_.data,console.log("data:",h),2e4===h.code){e.next=101;break}return this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("获取查询列表失败[生成方法]！错误原因："+h.msg));case 101:this.taskList_All=h.data.details,this.totalPageNum=h.data.pages,this.total_All=10*this.totalPageNum,e.next=120;break;case 106:if("用户名"!==this.formInline_All.searchType){e.next=120;break}return e.next=109,this.$http.get("/task/master/admin/search/?augmentation_type=2&page="+this.queryInfo_All.page+"&username="+this.formInline_All.searchTaskInfo+"&search_type="+this.FuzzySearch);case 109:if(g=e.sent,f=g.data,2e4===f.code){e.next=116;break}return this.taskList_All=[],this.totalPageNum=0,this.total_All=0,e.abrupt("return",this.$message.error("获取任务列表失败[用户名]！错误原因："+f.msg));case 116:this.taskList_All=f.data.details,this.totalPageNum=f.data.pages,console.log("this.taskList_All:",this.taskList_All),this.total_All=10*this.totalPageNum;case 120:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),generate_change:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,i,l,n,r,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("本用户"!=t){e.next=20;break}return a="/task/augmentation_method/search/?augmentation_method="+this.generate_func_self,console.log("this.generate_func_self:",this.generate_func_self),e.next=5,this.$http.get(a);case 5:if(i=e.sent,l=i.data,2e4===l.code){e.next=11;break}return this.taskList_Self=[],this.total_Self=0,e.abrupt("return",this.$message.error("未搜索到该任务！"));case 11:console.log("data:",l),this.taskList_Self=l.data.details,this.totalPageNum=l.data.pages,this.total_Self=10*this.totalPageNum,this.total_Self=10===this.total_Self?this.taskList_Self.length:this.total_Self,console.log("this.total_Self:",this.total_Self),console.log("this.totalPageNum:",this.totalPageNum),e.next=33;break;case 20:return n="/task/augmentation_method/admin/search/?augmentation_method="+this.generate_func_all,e.next=23,this.$http.get(n);case 23:if(r=e.sent,s=r.data,2e4===s.code){e.next=29;break}return this.taskList_All=[],this.total_All=0,e.abrupt("return",this.$message.error("未搜索到该任务！"));case 29:this.taskList_All=s.data.details,this.totalPageNum=s.data.pages,this.total_All=10*this.totalPageNum,this.total_All=this.total_All?this.taskList_All.length:0;case 33:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),isFuzzySearch:function(e){this.FuzzySearch=e},clearSecondSelect_All:function(){this.generate_func_all="",this.formInline_All.searchTaskInfo=""},clearSecondSelect_Self:function(){this.generate_func_self="",this.formInline_Self.searchTaskInfo=""},handleSizeChange_Self:function(e){this.queryInfo_Self.pagesize=e,console.log("newSize-this.formInline_Self.searchType:",this.formInline_Self.searchType),console.log("newSize-this.queryInfo_Self.page:",this.queryInfo_Self.page),this.getTaskList_Self()},handleCurrentChange_Self:function(e){this.queryInfo_Self.page=e,console.log("newPage-this.formInline_Self.searchType:",this.formInline_Self.searchType),console.log("newPage-this.queryInfo_Self.page:",this.queryInfo_Self.page),""===this.formInline_Self.searchTaskInfo&&""===this.generate_func_self?this.getTaskList_Self():this.SearchTask_Self()},handleSizeChange_All:function(e){this.queryInfo_All.pagesize=e,console.log("newSize-this.formInline_All.searchType:",this.formInline_All.searchType),console.log("newSize-this.queryInfo_All.page:",this.queryInfo_All.page),this.getTaskList_All()},handleCurrentChange_All:function(e){this.queryInfo_All.page=e,console.log("newPage-this.formInline_All.searchType:",this.formInline_All.searchType),console.log("newPage-this.queryInfo_All.page:",this.queryInfo_All.page),this.getTaskList_All()},pageReflash_All:function(){this.queryInfo_All.page=1},pageReflash_Self:function(){this.queryInfo_Self.page=1},originalfileDownloadTemp:function(e){var t=e["task_id"],a=e["flag"];this.originalfileDownload(t,a)},originalfileDownload:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var i,l,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=this.full_loading_flag?"":this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),this.original_fileContent="",e.next=4,this.$http.get("/task/file/?task_id="+t+"&file_type=0&format=json",{responseType:"blob",headers:{"Content-Type":"application/json; application/octet-stream"}});case 4:return l=e.sent,console.log("data:",l),n=l.headers["content-disposition"].replaceAll("/","\\").split("\\"),this.fileName=n[n.length-1],this.fileName=this.fileName.slice(0,this.fileName.length-1),r=this.fileName.lastIndexOf("."),this.original_is_Zip=!1,-1!==r&&".zip"===this.fileName.substr(r)?this.original_is_Zip=!0:this.original_blob=l.data,this.full_loading_flag||i.close(),a||_()(l.data,this.fileName),e.abrupt("return",l);case 15:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),generatefileDownloadTemp:function(e){var t=e["task_id"],a=e["flag"];this.generatefileDownload(t,a)},generatefileDownload:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){var i,l,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=this.full_loading_flag?"":this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),e.next=3,this.$http.get("/task/file/?task_id="+t+"&file_type=1&format=json",{responseType:"blob",headers:{"Content-Type":"application/json; application/octet-stream"}});case 3:return l=e.sent,n=l.headers["content-disposition"].replaceAll("/","\\").split("\\"),this.fileName=n[n.length-1],this.fileName=this.fileName.slice(0,this.fileName.length-1),r=this.fileName.lastIndexOf("."),this.generate_is_Zip=!1,-1!==r&&".zip"===this.fileName.substr(r)?this.generate_is_Zip=!0:this.generate_blob=l.data,this.full_loading_flag||i.close(),a||_()(l.data,this.fileName),e.abrupt("return",l);case 13:case"end":return e.stop()}}),e,this)})));function t(t,a){return e.apply(this,arguments)}return t}(),removeTaskById:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,i,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$confirm("此操作将永久删除该任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).catch((function(e){return e}));case 2:if(a=e.sent,"confirm"===a){e.next=5;break}return e.abrupt("return",this.$message.info("已取消删除"));case 5:return e.next=7,this.$http.delete("/task/?task_id="+t);case 7:if(i=e.sent,l=i.data,2e4===l.code){e.next=11;break}return e.abrupt("return",this.$message.error("删除任务失败！错误原因："+l.msg));case 11:this.$message.success("删除任务成功！"),"self"===this.activeName?(this.queryInfo_Self.page=1,""===this.formInline_Self.searchTaskInfo&&""===this.generate_func_self?this.getTaskList_Self():this.SearchTask_Self()):(this.queryInfo_All.page=1,""===this.formInline_All.searchTaskInfo&&""===this.generate_func_all?this.getTaskList_All():this.SearchTask_All());case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),showeditForm:function(){console.log("this.editForm_Self:",this.editForm_Self)},showEditDialog:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:for(a in this.editForm_Self=JSON.parse(JSON.stringify(t)),this.editForm_Self.params=JSON.parse(t.params),this.editForm_Self.params)this.$set(this.editForm_Self,a,this.editForm_Self.params[a]);this.editForm_Self.urgency_level=this.editForm_Self.urgency_level,this.editForm_Self.aug_object_truck="0"!=this.editForm_Self.aug_count_truck&&this.editForm_Self.aug_count_truck?this.editForm_Self.aug_object_truck:null,this.editForm_Self.aug_object_car="0"!=this.editForm_Self.aug_count_car&&this.editForm_Self.aug_count_car?this.editForm_Self.aug_object_car:null,this.editForm_Self.aug_object_cyclist="0"!=this.editForm_Self.aug_count_cyclist&&this.editForm_Self.aug_count_cyclist?this.editForm_Self.aug_object_cyclist:null,this.editForm_Self.aug_count_truck=parseInt(this.editForm_Self.aug_count_truck),this.editForm_Self.aug_count_car=parseInt(this.editForm_Self.aug_count_car),this.editForm_Self.aug_count_cyclist=parseInt(this.editForm_Self.aug_count_cyclist),this.editForm_Self.angle=parseFloat(this.editForm_Self.angle),console.log("this.editForm_Self:",this.editForm_Self),this.editDialogSelfVisible=!0;case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),editDialogClosed:function(){this.editForm_Self={task_id:0,master:this.$store.getters.userId,name:"",params:"",file:{},augmentation_method_name:""}},editTaskInfo:function(){var e=this;this.editForm_Self.master=this.$store.state.userId,this.editForm_Self.epsilon&&(this.editForm_Self.epsilon=this.editForm_Self.epsilon.replace("，",",")),this.$refs.editFormRef.validate(function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(a){var i,l,r,s,o,c,u;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a){t.next=2;break}return t.abrupt("return");case 2:i=new FormData,i.append("task_id",e.editForm_Self.id),i.append("name",e.editForm_Self.name),i.append("master",e.editForm_Self.master),i.append("urgency_level",e.editForm_Self.urgency_level),l={},"场景物体添加蜕变-激光雷达"===e.editForm_Self.augmentation_method_name?l={aug_object_car:e.editForm_Self.aug_object_car?e.editForm_Self.aug_object_car:"1",aug_object_truck:e.editForm_Self.aug_object_truck?e.editForm_Self.aug_object_truck:"1",aug_object_cyclist:e.editForm_Self.aug_object_cyclist?e.editForm_Self.aug_object_cyclist:"1",aug_count_car:e.editForm_Self.aug_count_car+"",aug_count_truck:e.editForm_Self.aug_count_truck+"",aug_count_cyclist:e.editForm_Self.aug_count_cyclist+""}:"场景物体旋转蜕变-激光雷达"===e.editForm_Self.augmentation_method_name?l={angle:e.editForm_Self.angle+""}:"极端场景蜕变-激光雷达"===e.editForm_Self.augmentation_method_name&&(l={aug_Truck:e.editForm_Self.aug_Truck,aug_Car:e.editForm_Self.aug_Car,aug_Cyclist:e.editForm_Self.aug_Cyclist}),l=JSON.stringify(l),i.append("params",l),e.editForm_Self.file=document.getElementById("filetemp").files[0],e.editForm_Self.file&&i.append("file",e.editForm_Self.file),r=d(i.entries());try{for(r.s();!(s=r.n()).done;)o=Object(n["a"])(s.value,2),o[0],o[1]}catch(_){r.e(_)}finally{r.f()}return t.next=17,e.$http({url:"/task/",data:i,method:"put"});case 17:if(c=t.sent,u=c.data,2e4===u.code){t.next=21;break}return t.abrupt("return",e.$message.error("修改任务失败！错误原因："+u.msg));case 21:e.$message.success("修改任务成功！"),e.editDialogSelfVisible=!1,e.$refs.editFormRef.resetFields(),e.editForm_Self.augmentation_type="",e.editForm_Self.augmentation_method="",e.editForm_Self.file={},e.getTaskList_Self(),e.getTaskList_All();case 29:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getdata:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t,a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,function(){a.fileContent=this.result};case 2:return e.abrupt("return",t.onload=e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t,a){return e.apply(this,arguments)}return t}(),taskException:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.$confirm("是否确定将该任务标记成异常状态？").then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(a){var i,l,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=new FormData,i.append("task_id",t.methodDetail.id),e.next=4,t.$http({url:"/task/exception/",data:i,method:"post"});case 4:if(l=e.sent,n=l.data,2e4===n.code){e.next=8;break}return e.abrupt("return",t.$message.error("添加生成任务失败！错误原因："+n.msg));case 8:t.$message.success("标记成异常成功！");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){}));case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),MethodDetail:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("this.methodDetail:",this.methodDetail),this.methodDialogSelfVisible=!0,e.next=4,this.$http.get("/task/?task_id="+t);case 4:if(a=e.sent,i=a.data,2e4===i.code){e.next=8;break}return e.abrupt("return",this.$message.error("获取本用户任务详情失败！错误原因："+i.msg));case 8:this.methodDetail=i.data;case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),methodDialogClose:function(){console.log("this.methodDetail:",this.methodDetail),this.methodDetail=[]},point_cloud_preview:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){var a,i,l,n,r,s,o,c,u,_;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.full_loading_flag=!0,a=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),i=[],e.next=5,this.originalfileDownload(t,1);case 5:return l=e.sent,n=new window.File([l.data],this.fileName,{type:"zip"}),r=new g.a,s=[],this.original_files_zip=n,o=this,e.next=13,r.loadAsync(this.original_files_zip).then((function(e){console.log("original_files.files:",r.files);var t=0;for(var a in r.files)if(-1!=a.indexOf("velodyne_txt/0")){var l={},c=a.split("/");c=c[c.length-1],console.log("temp_name:",c),s.push(a),l["point"]=a,l["value"]=t,l["label"]=c,l["label_real"]="training/label_2/"+c,l["children"]=[],i.push(l),t+=1}console.log("preview_options_original:",i),o.original_files_zip=n}));case 13:return e.next=15,this.generatefileDownload(t,1);case 15:return c=e.sent,u=new window.File([c.data],this.fileName,{type:"zip"}),_=new g.a,[],this.original_is_Zip,e.next=22,_.loadAsync(u).then((function(e){for(var t in console.log("generate_files.files:",_.files),i){var a={},l=i[t]["label"].split(".")[0],n=0;for(var r in _.files)if(-1!=r.indexOf(l+"/points")){console.log("j:",r);a={};var s=r.split("/");a["value"]=n,n+=1,a["label"]=s[1],a["name"]=r,a["label_real"]=l+"/label_real"+r.substring(r.length-6,r.length),i[t].children.push(a)}}console.log("preview_options:",i)}));case 22:this.generate_files_zip=u,a.close(),this.full_loading_flag=!1,this.previewDialogVisible=!0,this.$message.success("已获取文件列表，请选择需预览的文件！"),this.preview_options=i,this.loading=!1;case 29:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}(),make_format_data:function(e,t){var a=this,i=null,l=[],n=null;i=e.replaceAll("\r\n","\n").split("\n"),i.forEach((function(e){for(var i in n=e.split(" "),n)i<3&&parseFloat(n[i])>a.maxAxisValue&&(a.maxAxisValue=parseFloat(n[i])),i<3&&parseFloat(n[i])<a.minAxisValue&&(a.minAxisValue=parseFloat(n[i]));if((2===t||3===t)&&"DontCare"!=n[0]&&""!=n[0]){var r=[];r.push(parseFloat(n[13])),r.push(-1*parseFloat(n[11])),r.push(-1*parseFloat(n[12])),l.push(r),console.log("label_temp:",l)}0===t?a.originalPointCloudData.push(n):1===t&&a.generatePointCloudData.push(n)})),2===t?this.originalLabelData=l:3===t&&(this.generateLabelData=l),0==t?console.log("this.originalPointCloudData:",this.originalPointCloudData):1==t?console.log("this.generatePointCloudData:",this.generatePointCloudData):2==t?console.log("this.originalLabelData:",this.originalLabelData):3==t&&console.log("this.generateLabelData:",this.generateLabelData)},get_preview:function(){var e=c["init"](document.getElementById("preview"));this.option={title:{text:"点云生成预览"},tooltip:{show:!1,showCcontant:!0,trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},toolbox:{feature:{saveAsImage:{}}},legend:{type:"plain",data:["original_data","generate_data","original_label","generate_label"],top:"10%"},grid3D:{containLabel:!0,viewControl:{projection:"orthographic"}},xAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},yAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},zAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},series:[{name:"original_data",type:"scatter3D",data:this.originalPointCloudData,symbolSize:2,encode:{tooltip:[0,1,2,3,4]}},{name:"generate_data",type:"scatter3D",data:this.generatePointCloudData,symbolSize:2,encode:{tooltip:[0,1,2,3,4]}},{name:"original_label",type:"scatter3D",data:this.originalLabelData,symbolSize:10,encode:{tooltip:[0,1,2,3,4]}},{name:"generate_label",type:"scatter3D",data:this.generateLabelData,symbolSize:5,encode:{tooltip:[0,1,2,3,4]}}]},e.setOption(this.option);var t=c["init"](document.getElementById("preview_original"));this.option_original={title:{text:"原始图"},tooltip:{show:!1,showCcontant:!0,trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{type:"plain",data:["original_data","original_label"],top:"10%"},toolbox:{feature:{saveAsImage:{}}},grid3D:{containLabel:!0,viewControl:{projection:"orthographic"}},xAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},yAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},zAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},series:[{name:"original_data",type:"scatter3D",data:this.originalPointCloudData,symbolSize:2,encode:{tooltip:[0,1,2,3,4]}},{name:"original_label",type:"scatter3D",data:this.originalLabelData,symbolSize:10,encode:{tooltip:[0,1,2,3,4]}}]},t.setOption(this.option_original);var a=c["init"](document.getElementById("preview_generate"));this.option_generate={title:{text:"生成图"},tooltip:{show:!0,showCcontant:!0,trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{type:"plain",data:["generate_data","generate_label"],top:"10%"},toolbox:{feature:{saveAsImage:{}}},grid3D:{containLabel:!0,viewControl:{projection:"orthographic"}},xAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},yAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},zAxis3D:{type:"value",max:this.maxAxisValue.toFixed(3),min:this.minAxisValue.toFixed(3)},series:[{name:"generate_data",type:"scatter3D",data:this.generatePointCloudData,symbolSize:2,encode:{tooltip:[0,1,2,3,4]}},{name:"generate_label",type:"scatter3D",data:this.generateLabelData,symbolSize:10,encode:{tooltip:[0,1,2,3,4]}}]},a.setOption(this.option_generate)},previewHandleChange:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,a,i,l,n,s,o,c,u,_,h;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.full_loading_flag=!0,t=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}),this.originalPointCloudData=[],this.generatePointCloudData=[],this.originalLabelData=[],this.generateLabelData=[],console.log("this.preview_value[0]:",this.preview_value[0]),console.log("this.preview_value[1]:",this.preview_value[1]),a=this.preview_options[this.preview_value[0]]["point"],i=this.preview_options[this.preview_value[0]]["children"][this.preview_value[1]]["name"],console.log("original_points_name:",a),console.log("generate_points_name:",i),l=this.preview_options[this.preview_value[0]]["label_real"],n=this.preview_options[this.preview_value[0]]["children"][this.preview_value[1]]["label_real"],console.log("original_label_name:",l),console.log("generate_label_name:",n),s=null,o=null,c=null,u=null,_=new g.a,e.next=23,_.loadAsync(this.original_files_zip).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,_.file(a).async("string").then((function(e){s=e}));case 2:return e.next=4,_.file(l).async("string").then((function(e){c=e}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 23:return console.log("original_pointscloud:",s),this.make_format_data(s,0),this.make_format_data(c,2),console.log("this.originalPointCloudData:",this.originalPointCloudData),console.log("this.originalLabelData:",this.originalLabelData),h=new g.a,e.next=31,h.loadAsync(this.generate_files_zip).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h.file(i).async("string").then((function(e){o=e}));case 2:return e.next=4,h.file(n).async("string").then((function(e){u=e}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 31:this.make_format_data(o,1),this.make_format_data(u,3),console.log("this.generatePointCloudData:",this.generatePointCloudData),console.log("this.generateLabelData:",this.generateLabelData),this.get_preview(),t.close(),this.full_loading_flag=!1;case 38:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),handleClose:function(e){var t=this;this.$confirm("确认关闭？").then((function(e){t.previewDialogVisible=!1,t.fileName="",t.preview_value=[],t.preview_options=[],t.previewDialogVisible=!1,t.loading=!0,t.original_files_zip=null,t.generate_files_zip=null,t.originalPointCloudData=[],t.generatePointCloudData=[],t.maxAxisValue=-1e4,t.minAxisValue=1e4})).catch((function(e){}))},changeAxios_xz:function(){for(var e in this.originalPointCloudData){var t=[this.originalPointCloudData[e][2],this.originalPointCloudData[e][0]];this.originalPointCloudData[e][0]=t[0],this.originalPointCloudData[e][2]=t[1]}for(var e in this.generatePointCloudData){var a=[this.generatePointCloudData[e][2],this.generatePointCloudData[e][0]];this.generatePointCloudData[e][0]=a[0],this.generatePointCloudData[e][2]=a[1]}this.get_preview()},changeAxios_yz:function(){for(var e in this.originalPointCloudData){var t=[this.originalPointCloudData[e][2],this.originalPointCloudData[e][1]];this.originalPointCloudData[e][1]=t[0],this.originalPointCloudData[e][2]=t[1]}for(var e in this.generatePointCloudData){var a=[this.generatePointCloudData[e][2],this.generatePointCloudData[e][1]];this.generatePointCloudData[e][1]=a[0],this.generatePointCloudData[e][2]=a[1]}this.get_preview()},changeAxios_xy:function(){for(var e in this.originalPointCloudData){var t=[this.originalPointCloudData[e][1],this.originalPointCloudData[e][0]];this.originalPointCloudData[e][0]=t[0],this.originalPointCloudData[e][1]=t[1]}for(var e in this.generatePointCloudData){var a=[this.generatePointCloudData[e][1],this.generatePointCloudData[e][0]];this.generatePointCloudData[e][0]=a[0],this.generatePointCloudData[e][1]=a[1]}this.get_preview()},isBlank_num:function(e){var t=e.column.property,a=e.row[t],i="-- --";return(0===a||!1===a||a)&&(i=a),i},isBlank_start:function(e){var t=e.column.property,a=e.row[t],i="未开始";return(0===a||!1===a||a)&&(i=a),"string"==typeof i&&(i=i.split("+")[0].split(".")[0]),i},isBlank_end:function(e){var t=e.column.property,a=e.row[t],i="未结束";return(0===a||!1===a||a)&&(i=a),"string"==typeof i&&(i=i.split("+")[0].split(".")[0]),i}}},v=b,S=(a("2253"),a("2877")),k=Object(S["a"])(v,i,l,!1,null,"7a1c3659",null);t["default"]=k.exports}}]);